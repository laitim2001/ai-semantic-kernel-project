# Workflow ç·¨è¼¯å™¨ Wireframe - Part 4: ç‰ˆæœ¬æ§åˆ¶èˆ‡å”ä½œ

**ç‰ˆæœ¬**: 1.0.0 (Part 4/5)
**æ—¥æœŸ**: 2025-10-29
**ç‹€æ…‹**: ğŸ”„ é€²è¡Œä¸­
**è¤‡é›œåº¦**: â­â­â­â­â­ (æ¥µé«˜)

---

## ğŸ“š ç‰ˆæœ¬æ§åˆ¶ç³»çµ±è¨­è¨ˆ

### ç‰ˆæœ¬æ§åˆ¶å·¥å…·æ¬„

```
é ‚éƒ¨å·¥å…·æ¬„ (ç‰ˆæœ¬æ§åˆ¶å€åŸŸ):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“š ç‰ˆæœ¬: v2.3  â–¼                        [ğŸ’¾ å„²å­˜ç‰ˆæœ¬]   â”‚
â”‚   â”œâ”€ v2.3 (ç•¶å‰) - 2025-10-29 15:30 by Alex            â”‚
â”‚   â”œâ”€ v2.2 - 2025-10-28 10:15 by Sarah                  â”‚
â”‚   â”œâ”€ v2.1 - 2025-10-25 14:20 by Alex                   â”‚
â”‚   â”œâ”€ v2.0 - 2025-10-20 09:00 by Alex                   â”‚
â”‚   â””â”€ [æŸ¥çœ‹å…¨éƒ¨ç‰ˆæœ¬...]                                 â”‚
â”‚                                                         â”‚
â”‚ [ğŸ“– ç‰ˆæœ¬æ­·å²] [ğŸ”€ å°æ¯”ç‰ˆæœ¬] [â†©ï¸ é‚„åŸ] [ğŸ·ï¸ æ¨™ç±¤]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å„²å­˜ç‰ˆæœ¬å°è©±æ¡†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’¾ å„²å­˜æ–°ç‰ˆæœ¬                               [âœ•]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚ ç‰ˆæœ¬è™Ÿç¢¼ *                                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ v2.4                      [ğŸ”„ è‡ªå‹•ç”Ÿæˆ]      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                  â”‚
â”‚ ç‰ˆæœ¬åç¨±                                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ æ–°å¢éƒµä»¶é€šçŸ¥åŠŸèƒ½                             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                  â”‚
â”‚ è®Šæ›´èªªæ˜ *                                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â€¢ åœ¨è™•ç†å®Œæˆå¾Œæ–°å¢éƒµä»¶é€šçŸ¥ç¯€é»               â”‚ â”‚
â”‚ â”‚ â€¢ å„ªåŒ– Agent_1 çš„æç¤ºè©æ¨¡æ¿                  â”‚ â”‚
â”‚ â”‚ â€¢ ä¿®æ­£ Router ç¯€é»çš„è·¯ç”±é‚è¼¯éŒ¯èª¤             â”‚ â”‚
â”‚ â”‚â–‹                                             â”‚ â”‚
â”‚ â”‚                                              â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                  â”‚
â”‚ æ¨™ç±¤ (å¯é¸)                                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [âœ“ stable] [âœ“ production] [ dev]            â”‚ â”‚
â”‚ â”‚ [+ æ–°å¢æ¨™ç±¤]                                 â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                  â”‚
â”‚ è®Šæ›´çµ±è¨ˆ:                                         â”‚
â”‚ â€¢ æ–°å¢ç¯€é»: 2 å€‹ (Email, Notification)           â”‚
â”‚ â€¢ ä¿®æ”¹ç¯€é»: 3 å€‹ (Agent_1, Router, Output)       â”‚
â”‚ â€¢ åˆªé™¤ç¯€é»: 0 å€‹                                  â”‚
â”‚ â€¢ æ–°å¢é€£æ¥: 4 æ¢                                  â”‚
â”‚ â€¢ ä¿®æ”¹é€£æ¥: 2 æ¢                                  â”‚
â”‚                                                  â”‚
â”‚ â˜‘ è¨­ç‚ºç•¶å‰ç‰ˆæœ¬                                   â”‚
â”‚ â˜ é€šçŸ¥åœ˜éšŠæˆå“¡                                   â”‚
â”‚                                                  â”‚
â”‚ [ğŸ’¾ å„²å­˜ç‰ˆæœ¬] [âŒ å–æ¶ˆ]                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“– ç‰ˆæœ¬æ­·å²ç®¡ç†

### ç‰ˆæœ¬æ­·å²é¢æ¿

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“– ç‰ˆæœ¬æ­·å² - å®¢æˆ¶æœå‹™æµç¨‹                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ” æœå°‹ç‰ˆæœ¬: [___________] [ğŸ“… æ—¥æœŸç¯„åœ] [ğŸ‘¤ ä½œè€…éæ¿¾]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚ â— v2.3 (ç•¶å‰ç‰ˆæœ¬) ğŸŒŸ                                        â”‚
â”‚   ğŸ“… 2025-10-29 15:30                                       â”‚
â”‚   ğŸ‘¤ Alex Chen (alex@example.com)                           â”‚
â”‚   ğŸ“ æ–°å¢éƒµä»¶é€šçŸ¥åŠŸèƒ½                                       â”‚
â”‚   ğŸ·ï¸ [stable] [production]                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚ â€¢ æ–°å¢ Email ç¯€é» (node_010)                          â”‚ â”‚
â”‚   â”‚ â€¢ æ–°å¢ Notification ç¯€é» (node_011)                   â”‚ â”‚
â”‚   â”‚ â€¢ å„ªåŒ– Agent_1 æç¤ºè©                                 â”‚ â”‚
â”‚   â”‚ â€¢ ä¿®æ­£ Router è·¯ç”±é‚è¼¯                                â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚   [ğŸ‘ï¸ æŸ¥çœ‹] [ğŸ”€ å°æ¯”] [ğŸ“¥ è¼‰å…¥] [ğŸ—‘ï¸ åˆªé™¤]                  â”‚
â”‚                                                             â”‚
â”‚ â—‹ v2.2                                                      â”‚
â”‚   ğŸ“… 2025-10-28 10:15                                       â”‚
â”‚   ğŸ‘¤ Sarah Johnson (sarah@example.com)                      â”‚
â”‚   ğŸ“ æ”¹é€²éŒ¯èª¤è™•ç†æµç¨‹                                       â”‚
â”‚   ğŸ·ï¸ [stable]                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚ â€¢ æ–°å¢éŒ¯èª¤è™•ç†åˆ†æ”¯                                    â”‚ â”‚
â”‚   â”‚ â€¢ åŠ å…¥é‡è©¦é‚è¼¯                                        â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚   [ğŸ‘ï¸ æŸ¥çœ‹] [ğŸ”€ å°æ¯”] [ğŸ“¥ è¼‰å…¥] [â†©ï¸ é‚„åŸ]                  â”‚
â”‚                                                             â”‚
â”‚ â—‹ v2.1                                                      â”‚
â”‚   ğŸ“… 2025-10-25 14:20                                       â”‚
â”‚   ğŸ‘¤ Alex Chen                                              â”‚
â”‚   ğŸ“ å„ªåŒ– Agent é…ç½®                                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚ â€¢ èª¿æ•´ Temperature åƒæ•¸                               â”‚ â”‚
â”‚   â”‚ â€¢ æ›´æ–°æç¤ºè©æ¨¡æ¿                                      â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚   [ğŸ‘ï¸ æŸ¥çœ‹] [ğŸ”€ å°æ¯”] [ğŸ“¥ è¼‰å…¥]                            â”‚
â”‚                                                             â”‚
â”‚ â—‹ v2.0 ğŸš€ (Major Release)                                   â”‚
â”‚   ğŸ“… 2025-10-20 09:00                                       â”‚
â”‚   ğŸ‘¤ Alex Chen                                              â”‚
â”‚   ğŸ“ é‡å¤§ç‰ˆæœ¬æ›´æ–° - å¤š Agent æ¶æ§‹                          â”‚
â”‚   ğŸ·ï¸ [milestone] [production]                              â”‚
â”‚   [ğŸ‘ï¸ æŸ¥çœ‹] [ğŸ”€ å°æ¯”] [ğŸ“¥ è¼‰å…¥]                            â”‚
â”‚                                                             â”‚
â”‚ [æ›´å¤šæ­·å²ç‰ˆæœ¬...] é¡¯ç¤º 1-4 / å…± 23 å€‹ç‰ˆæœ¬                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ“Š ç‰ˆæœ¬çµ±è¨ˆ] [ğŸ“¥ æ‰¹æ¬¡å°å‡º] [ğŸ—‘ï¸ æ¸…ç†èˆŠç‰ˆæœ¬]                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç‰ˆæœ¬çµ±è¨ˆå„€è¡¨æ¿

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š ç‰ˆæœ¬çµ±è¨ˆ                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç¸½ç‰ˆæœ¬æ•¸: 23 å€‹                                 â”‚
â”‚ æ™‚é–“è·¨åº¦: 2025-08-01 ~ 2025-10-29 (89 å¤©)      â”‚
â”‚                                                 â”‚
â”‚ ğŸ“ˆ ç‰ˆæœ¬ç™¼å¸ƒé »ç‡                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚    â–‚â–ƒâ–…â–†â–ˆâ–†â–…â–ƒâ–‚â–â–‚â–ƒâ–…â–†â–ˆâ–†â–…â–ƒ                     â”‚ â”‚
â”‚ â”‚ Aug   Sep   Oct                             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ å¹³å‡: 3.9 ç‰ˆæœ¬/é€±                               â”‚
â”‚                                                 â”‚
â”‚ ğŸ‘¥ è²¢ç»è€…çµ±è¨ˆ                                   â”‚
â”‚ â€¢ Alex Chen: 15 ç‰ˆæœ¬ (65%)                     â”‚
â”‚ â€¢ Sarah Johnson: 6 ç‰ˆæœ¬ (26%)                  â”‚
â”‚ â€¢ David Miller: 2 ç‰ˆæœ¬ (9%)                    â”‚
â”‚                                                 â”‚
â”‚ ğŸ“ è®Šæ›´é¡å‹åˆ†ä½ˆ                                 â”‚
â”‚ â€¢ åŠŸèƒ½æ–°å¢: 12 æ¬¡ (52%)                         â”‚
â”‚ â€¢ éŒ¯èª¤ä¿®å¾©: 7 æ¬¡ (30%)                          â”‚
â”‚ â€¢ æ€§èƒ½å„ªåŒ–: 4 æ¬¡ (18%)                          â”‚
â”‚                                                 â”‚
â”‚ [ğŸ“Š è©³ç´°å ±å‘Š] [ğŸ“¥ å°å‡º CSV]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”€ ç‰ˆæœ¬å°æ¯”åŠŸèƒ½

### ç‰ˆæœ¬å°æ¯”é¸æ“‡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”€ ç‰ˆæœ¬å°æ¯”                                 [âœ•]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚ å°æ¯”ç‰ˆæœ¬é¸æ“‡                                      â”‚
â”‚                                                  â”‚
â”‚ åŸºæº–ç‰ˆæœ¬ (Base):                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â–¼ v2.2 - 2025-10-28 by Sarah               â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                  â”‚
â”‚ ç›®æ¨™ç‰ˆæœ¬ (Target):                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â–¼ v2.3 - 2025-10-29 by Alex (ç•¶å‰)         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                  â”‚
â”‚ å°æ¯”é¸é …:                                         â”‚
â”‚ â˜‘ ç¯€é»è®Šæ›´ (æ–°å¢/åˆªé™¤/ä¿®æ”¹)                      â”‚
â”‚ â˜‘ é€£æ¥è®Šæ›´                                       â”‚
â”‚ â˜‘ ç¯€é»é…ç½®è®Šæ›´                                   â”‚
â”‚ â˜‘ å·¥ä½œæµç¨‹å±¬æ€§è®Šæ›´                               â”‚
â”‚ â˜ åƒ…é¡¯ç¤ºå·®ç•° (éš±è—ç›¸åŒéƒ¨åˆ†)                      â”‚
â”‚                                                  â”‚
â”‚ é¡¯ç¤ºæ–¹å¼:                                         â”‚
â”‚ â—‹ ä¸¦æ’è¦–åœ– (Side-by-Side)                        â”‚
â”‚ â— çµ±ä¸€è¦–åœ– (Unified)                              â”‚
â”‚ â—‹ è®Šæ›´åˆ—è¡¨ (Changes List)                        â”‚
â”‚                                                  â”‚
â”‚ [ğŸ” é–‹å§‹å°æ¯”] [âŒ å–æ¶ˆ]                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¸¦æ’å°æ¯”è¦–åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”€ ç‰ˆæœ¬å°æ¯”: v2.2 â†” v2.3                                               [âœ•]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è®Šæ›´æ‘˜è¦:                                                                    â”‚
â”‚ â€¢ æ–°å¢ç¯€é»: 2 å€‹  â€¢ ä¿®æ”¹ç¯€é»: 3 å€‹  â€¢ åˆªé™¤ç¯€é»: 0 å€‹                        â”‚
â”‚ â€¢ æ–°å¢é€£æ¥: 4 æ¢  â€¢ ä¿®æ”¹é€£æ¥: 2 æ¢  â€¢ åˆªé™¤é€£æ¥: 0 æ¢                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚ v2.2 (åŸºæº–ç‰ˆæœ¬)                    â”‚  v2.3 (ç›®æ¨™ç‰ˆæœ¬)                      â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                    â”‚                                       â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚    â”‚  ğŸ¬ Start   â”‚                 â”‚     â”‚  ğŸ¬ Start   â”‚ (ç›¸åŒ)           â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                 â”‚     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚           â–¼                        â”‚            â–¼                         â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚    â”‚  ğŸ’¬ Input   â”‚                 â”‚     â”‚  ğŸ’¬ Input   â”‚ (ç›¸åŒ)           â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                 â”‚     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚           â–¼                        â”‚            â–¼                         â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚    â”‚  ğŸ¯ Agent_1 â”‚                 â”‚     â”‚  ğŸ¯ Agent_1 â”‚ âš ï¸ (å·²ä¿®æ”¹)      â”‚
â”‚    â”‚  Temp: 0.7  â”‚                 â”‚     â”‚  Temp: 0.5  â”‚ â† åƒæ•¸è®Šæ›´      â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                 â”‚     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚           â–¼                        â”‚            â–¼                         â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚    â”‚ ğŸ”€ Router   â”‚                 â”‚     â”‚ ğŸ”€ Router   â”‚ âš ï¸ (å·²ä¿®æ”¹)      â”‚
â”‚    â”‚  2 Routes   â”‚                 â”‚     â”‚  3 Routes   â”‚ â† æ–°å¢è·¯ç”±      â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                 â”‚     â””â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚           â–¼                        â”‚        â”‚    â”‚                        â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚        â”‚    â–¼                        â”‚
â”‚    â”‚  ğŸ“Š Output  â”‚                 â”‚        â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” âœ… (æ–°å¢)   â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚        â”‚ â”‚  ğŸ“§ Email   â”‚             â”‚
â”‚                                    â”‚        â”‚ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                    â”‚        â”‚        â–¼                     â”‚
â”‚                                    â”‚        â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” âœ… (æ–°å¢)   â”‚
â”‚                                    â”‚        â”‚ â”‚  ğŸ”” Notify  â”‚             â”‚
â”‚                                    â”‚        â”‚ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                    â”‚        â–¼        â–¼                     â”‚
â”‚                                    â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚                                    â”‚     â”‚  ğŸ“Š Output  â”‚ âš ï¸ (å·²ä¿®æ”¹)      â”‚
â”‚                                    â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                    â”‚                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åœ–ä¾‹: âœ… æ–°å¢  âŒ åˆªé™¤  âš ï¸ ä¿®æ”¹  (ç›¸åŒ) ç„¡è®Šæ›´                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ“‹ è®Šæ›´è©³æƒ…] [ğŸ“¥ å°å‡ºå°æ¯”å ±å‘Š] [â†©ï¸ é‚„åŸåˆ° v2.2] [é—œé–‰]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è®Šæ›´è©³æƒ…åˆ—è¡¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“‹ è©³ç´°è®Šæ›´åˆ—è¡¨                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ” ç¯©é¸: [å…¨éƒ¨ â–¼] [ç¯€é» âœ“] [é€£æ¥ âœ“] [é…ç½® âœ“]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚ âœ… æ–°å¢ç¯€é»: Email (node_010)                          â”‚
â”‚    é¡å‹: email                                         â”‚
â”‚    ä½ç½®: (x: 450, y: 380)                             â”‚
â”‚    é…ç½®:                                               â”‚
â”‚      â€¢ æ”¶ä»¶äºº: {{userEmail}}                          â”‚
â”‚      â€¢ ä¸»é¡Œ: "Your inquiry has been processed"        â”‚
â”‚    [ğŸ‘ï¸ æŸ¥çœ‹å®Œæ•´é…ç½®]                                   â”‚
â”‚                                                        â”‚
â”‚ âœ… æ–°å¢ç¯€é»: Notification (node_011)                   â”‚
â”‚    é¡å‹: notification                                  â”‚
â”‚    ä½ç½®: (x: 450, y: 480)                             â”‚
â”‚    é…ç½®:                                               â”‚
â”‚      â€¢ æ¸ é“: Slack                                     â”‚
â”‚      â€¢ Channel: #customer-service                     â”‚
â”‚    [ğŸ‘ï¸ æŸ¥çœ‹å®Œæ•´é…ç½®]                                   â”‚
â”‚                                                        â”‚
â”‚ âš ï¸ ä¿®æ”¹ç¯€é»: Agent_1 (node_003)                        â”‚
â”‚    è®Šæ›´:                                               â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚    â”‚ å±¬æ€§             â”‚ v2.2 â†’ v2.3      â”‚            â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤            â”‚
â”‚    â”‚ Temperature      â”‚ 0.7 â†’ 0.5        â”‚            â”‚
â”‚    â”‚ Prompt Template  â”‚ [å·²ä¿®æ”¹ 27 è¡Œ]   â”‚            â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚    [ğŸ“Š æŸ¥çœ‹å·®ç•°]                                       â”‚
â”‚                                                        â”‚
â”‚ âš ï¸ ä¿®æ”¹ç¯€é»: Router (node_004)                         â”‚
â”‚    è®Šæ›´:                                               â”‚
â”‚    â€¢ æ–°å¢è·¯ç”±è¦å‰‡: route_3 (confidence < 0.7)         â”‚
â”‚    â€¢ ä¿®æ”¹é è¨­è·¯ç”±æŒ‡å‘                                  â”‚
â”‚    [ğŸ“Š æŸ¥çœ‹è·¯ç”±é‚è¼¯]                                   â”‚
â”‚                                                        â”‚
â”‚ âœ… æ–°å¢é€£æ¥: node_004 â†’ node_010                       â”‚
â”‚    ä¾†æº: Router.output_3                              â”‚
â”‚    ç›®æ¨™: Email.input                                  â”‚
â”‚                                                        â”‚
â”‚ âœ… æ–°å¢é€£æ¥: node_004 â†’ node_011                       â”‚
â”‚    ä¾†æº: Router.output_3                              â”‚
â”‚    ç›®æ¨™: Notification.input                           â”‚
â”‚                                                        â”‚
â”‚ âœ… æ–°å¢é€£æ¥: node_010 â†’ node_006                       â”‚
â”‚ âœ… æ–°å¢é€£æ¥: node_011 â†’ node_006                       â”‚
â”‚                                                        â”‚
â”‚ âš ï¸ ä¿®æ”¹é€£æ¥: node_004 â†’ node_006                       â”‚
â”‚    ä¾†æºåŸ è®Šæ›´: output_2 â†’ output_1                     â”‚
â”‚                                                        â”‚
â”‚ é¡¯ç¤º 1-11 / å…± 11 é …è®Šæ›´                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ“¥ å°å‡ºç‚º Markdown] [ğŸ“‹ è¤‡è£½åˆ°å‰ªè²¼æ¿]                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ‘¥ å¤šäººå”ä½œåŠŸèƒ½

### å”ä½œç‹€æ…‹é¡¯ç¤º

```
é ‚éƒ¨å”ä½œå·¥å…·æ¬„:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¥ å”ä½œè€… (3 äººåœ¨ç·š):                                   â”‚
â”‚ â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”                                           â”‚
â”‚ â”‚ğŸ‘¤â”‚â”‚ğŸ‘¤â”‚â”‚ğŸ‘¤â”‚â”‚  [+ é‚€è«‹]                                â”‚
â”‚ â”‚ACâ”‚â”‚SJâ”‚â”‚DMâ”‚â”‚                                           â”‚
â”‚ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜                                           â”‚
â”‚ â€¢ Alex Chen (ä½ ) - æ­£åœ¨ç·¨è¼¯ Agent_1                     â”‚
â”‚ â€¢ Sarah Johnson - æ­£åœ¨æŸ¥çœ‹ç‰ˆæœ¬æ­·å²                      â”‚
â”‚ â€¢ David Miller - é–’ç½®                                   â”‚
â”‚                                                         â”‚
â”‚ [ğŸ’¬ èŠå¤©] [ğŸ“ é€šè©±] [ğŸ”” é€šçŸ¥è¨­å®š]                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç•«å¸ƒä¸Šçš„å”ä½œæ¸¸æ¨™

```
å¯¦æ™‚å”ä½œæ¸¸æ¨™é¡¯ç¤º:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¯ Agent_1 â”‚ â† Alex Chen æ­£åœ¨ç·¨è¼¯
â”‚             â”‚   é¡¯ç¤º Alex çš„æ¸¸æ¨™å’Œé¸å–ç¯„åœ
â”‚             â”‚   è—è‰²é«˜äº®é‚Šæ¡†
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”€ Router   â”‚ â† Sarah Johnson æ­£åœ¨æŸ¥çœ‹
â”‚             â”‚   é¡¯ç¤º Sarah çš„æ¸¸æ¨™
â”‚             â”‚   ç¶ è‰²é«˜äº®é‚Šæ¡†
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ¸¸æ¨™æ¨£å¼:
â€¢ Alex Chen: ğŸ”µ è—è‰²æ¸¸æ¨™ + åç¨±æ¨™ç±¤
â€¢ Sarah Johnson: ğŸŸ¢ ç¶ è‰²æ¸¸æ¨™ + åç¨±æ¨™ç±¤
â€¢ David Miller: ğŸŸ£ ç´«è‰²æ¸¸æ¨™ + åç¨±æ¨™ç±¤
```

### å”ä½œé–å®šæ©Ÿåˆ¶

```
ç¯€é»ç·¨è¼¯é–å®š:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¯ Agent_1 â”‚
â”‚ ğŸ”’ Alex ç·¨è¼¯ä¸­
â”‚ [è«‹æ±‚ç·¨è¼¯æ¬Šé™]
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

é–å®šæç¤ºå½ˆçª—:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”’ ç¯€é»å·²è¢«é–å®š                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Agent_1 (node_003) ç›®å‰ç”± Alex Chen     â”‚
â”‚ æ­£åœ¨ç·¨è¼¯ä¸­ã€‚                             â”‚
â”‚                                          â”‚
â”‚ ä½ å¯ä»¥:                                   â”‚
â”‚ â€¢ [ç­‰å¾…] ç­‰å¾… Alex å®Œæˆç·¨è¼¯              â”‚
â”‚ â€¢ [è«‹æ±‚] å‘ Alex è«‹æ±‚ç·¨è¼¯æ¬Šé™            â”‚
â”‚ â€¢ [æŸ¥çœ‹] ä»¥å”¯è®€æ¨¡å¼æŸ¥çœ‹ç¯€é»              â”‚
â”‚ â€¢ [è¤‡è£½] å‰µå»ºç¯€é»å‰¯æœ¬é€²è¡Œç·¨è¼¯            â”‚
â”‚                                          â”‚
â”‚ [ç­‰å¾…é€šçŸ¥] [ç™¼é€è«‹æ±‚] [å”¯è®€æŸ¥çœ‹] [å–æ¶ˆ]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ å¯¦æ™‚å”ä½œç·¨è¼¯

### æ“ä½œåŒæ­¥æ©Ÿåˆ¶

```yaml
åŒæ­¥äº‹ä»¶é¡å‹:
  ç¯€é»æ“ä½œ:
    - node.create: å‰µå»ºæ–°ç¯€é»
    - node.update: æ›´æ–°ç¯€é»é…ç½®
    - node.move: ç§»å‹•ç¯€é»ä½ç½®
    - node.delete: åˆªé™¤ç¯€é»
    - node.select: é¸æ“‡ç¯€é»

  é€£æ¥æ“ä½œ:
    - edge.create: å‰µå»ºæ–°é€£æ¥
    - edge.update: æ›´æ–°é€£æ¥é…ç½®
    - edge.delete: åˆªé™¤é€£æ¥

  ç•«å¸ƒæ“ä½œ:
    - canvas.zoom: ç¸®æ”¾ç•«å¸ƒ
    - canvas.pan: å¹³ç§»ç•«å¸ƒ

  ç”¨æˆ¶ç‹€æ…‹:
    - user.join: ç”¨æˆ¶åŠ å…¥
    - user.leave: ç”¨æˆ¶é›¢é–‹
    - user.cursor: æ¸¸æ¨™ç§»å‹•
    - user.idle: ç”¨æˆ¶é–’ç½®

åŒæ­¥ç­–ç•¥:
  å¯¦æ™‚åŒæ­¥ (WebSocket):
    - æ¸¸æ¨™ä½ç½® (100ms é–“éš”)
    - ç¯€é»æ‹–æ‹½ (å¯¦æ™‚)
    - ç”¨æˆ¶ç‹€æ…‹ (å¯¦æ™‚)

  æ‰¹æ¬¡åŒæ­¥ (1s é–“éš”):
    - ç¯€é»é…ç½®è®Šæ›´
    - é€£æ¥ä¿®æ”¹
    - ç•«å¸ƒè¦–åœ–ç‹€æ…‹

  æ‰‹å‹•åŒæ­¥:
    - ç‰ˆæœ¬å„²å­˜
    - å¤§è¦æ¨¡è®Šæ›´
```

### å”ä½œé€šçŸ¥ç³»çµ±

```
é€šçŸ¥é¢æ¿ (å³å´é‚Šæ¬„):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”” å”ä½œé€šçŸ¥                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å‰›å‰›                                   â”‚
â”‚ â€¢ ğŸ‘¤ Sarah ä¿®æ”¹äº† Router ç¯€é»          â”‚
â”‚   [æŸ¥çœ‹è®Šæ›´]                           â”‚
â”‚                                        â”‚
â”‚ 2 åˆ†é˜å‰                               â”‚
â”‚ â€¢ ğŸ‘¤ Alex æ–°å¢äº† Email ç¯€é»            â”‚
â”‚   [å‰å¾€ç¯€é»]                           â”‚
â”‚                                        â”‚
â”‚ 5 åˆ†é˜å‰                               â”‚
â”‚ â€¢ ğŸ‘¤ David è«‹æ±‚ç·¨è¼¯ Agent_1            â”‚
â”‚   [æ‰¹å‡†] [æ‹’çµ•]                        â”‚
â”‚                                        â”‚
â”‚ 10 åˆ†é˜å‰                              â”‚
â”‚ â€¢ ğŸ‘¤ Sarah å„²å­˜äº†ç‰ˆæœ¬ v2.2             â”‚
â”‚   [æŸ¥çœ‹ç‰ˆæœ¬]                           â”‚
â”‚                                        â”‚
â”‚ [æ¨™è¨˜å…¨éƒ¨å·²è®€] [è¨­å®š]                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å³æ™‚é€šçŸ¥ Toast:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ Sarah ä¿®æ”¹äº† Router ç¯€é»        â”‚
â”‚ [æŸ¥çœ‹] [å¿½ç•¥]                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†‘ è¢å¹•å³ä¸Šè§’å½ˆå‡ºï¼Œ3 ç§’å¾Œè‡ªå‹•æ¶ˆå¤±
```

### å”ä½œè¡çªè§£æ±º

```
è¡çªæª¢æ¸¬å ´æ™¯:
  1. åŒæ™‚ç·¨è¼¯åŒä¸€ç¯€é»
  2. åŒæ™‚åˆªé™¤å’Œä¿®æ”¹åŒä¸€ç¯€é»
  3. åŒæ™‚å‰µå»ºç›¸åŒé€£æ¥
  4. ç‰ˆæœ¬è¡çª

è¡çªè§£æ±ºå°è©±æ¡†:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš ï¸ æª¢æ¸¬åˆ°ç·¨è¼¯è¡çª                           [âœ•]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç¯€é»: Agent_1 (node_003)                         â”‚
â”‚                                                  â”‚
â”‚ ä½ çš„è®Šæ›´:                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”‚ Temperature: 0.7 â†’ 0.5                        â”‚
â”‚ â”‚ Max Tokens: 2000 â†’ 3000                       â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚ Sarah çš„è®Šæ›´ (2 ç§’å‰):                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”‚ Temperature: 0.7 â†’ 0.6                        â”‚
â”‚ â”‚ Prompt Template: [å·²ä¿®æ”¹]                     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚ è§£æ±ºæ–¹å¼:                                         â”‚
â”‚ â—‹ ä¿ç•™æˆ‘çš„è®Šæ›´ (è¦†è“‹ Sarah çš„è®Šæ›´)               â”‚
â”‚ â—‹ æ¥å— Sarah çš„è®Šæ›´ (æ”¾æ£„æˆ‘çš„è®Šæ›´)               â”‚
â”‚ â— åˆä½µè®Šæ›´ (çµåˆé›™æ–¹è®Šæ›´)                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚ Temperature: 0.5 (ä½ çš„)                    â”‚ â”‚
â”‚   â”‚ Max Tokens: 3000 (ä½ çš„)                    â”‚ â”‚
â”‚   â”‚ Prompt Template: [Sarah çš„ä¿®æ”¹]           â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â—‹ æ‰‹å‹•è§£æ±º                                       â”‚
â”‚                                                  â”‚
â”‚ [âœ… ç¢ºèª] [âŒ å–æ¶ˆ] [ğŸ’¬ èˆ‡ Sarah è¨è«–]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è‡ªå‹•åˆä½µç­–ç•¥:
  â€¢ ä¸è¡çªçš„å±¬æ€§: è‡ªå‹•åˆä½µ
  â€¢ è¡çªçš„å±¬æ€§: æç¤ºç”¨æˆ¶é¸æ“‡
  â€¢ æœ€å¾Œå¯«å…¥å‹å‡º (å¯é…ç½®)
  â€¢ å‰µå»ºè¡çªåˆ†æ”¯ (é€²éš)
```

---

## ğŸ’¬ å…§å»ºèŠå¤©åŠŸèƒ½

### èŠå¤©é¢æ¿

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’¬ åœ˜éšŠèŠå¤©                       [âœ•]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [å…¨éƒ¨] [æåŠæˆ‘] [é€šçŸ¥]                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                        â”‚
â”‚ ä»Šå¤© 15:30                             â”‚
â”‚ ğŸ‘¤ Alex Chen                           â”‚
â”‚ æˆ‘å‰›æ–°å¢äº†éƒµä»¶é€šçŸ¥åŠŸèƒ½ï¼Œå¤§å®¶çœ‹ä¸€ä¸‹     â”‚
â”‚ æœ‰æ²’æœ‰å•é¡Œ                             â”‚
â”‚                                        â”‚
â”‚ ä»Šå¤© 15:32                             â”‚
â”‚ ğŸ‘¤ Sarah Johnson                       â”‚
â”‚ @Alex çœ‹èµ·ä¾†ä¸éŒ¯ï¼ä½†æ˜¯éƒµä»¶æ¨¡æ¿å¯ä»¥     â”‚
â”‚ å†å„ªåŒ–ä¸€ä¸‹                             â”‚
â”‚ [ğŸ“ Agent_1] â† é»æ“Šè·³è½‰åˆ°ç¯€é»         â”‚
â”‚                                        â”‚
â”‚ ä»Šå¤© 15:35                             â”‚
â”‚ ğŸ‘¤ Alex Chen                           â”‚
â”‚ @Sarah å¥½çš„ï¼Œæˆ‘ä¾†èª¿æ•´                  â”‚
â”‚                                        â”‚
â”‚ ä»Šå¤© 15:40                             â”‚
â”‚ ç³»çµ±è¨Šæ¯: Alex å„²å­˜äº†ç‰ˆæœ¬ v2.3        â”‚
â”‚ [æŸ¥çœ‹ç‰ˆæœ¬]                             â”‚
â”‚                                        â”‚
â”‚ ä»Šå¤© 15:45                             â”‚
â”‚ ğŸ‘¤ David Miller                        â”‚
â”‚ ğŸ‘ å·²å¯©æ ¸ï¼Œå¯ä»¥éƒ¨ç½²                    â”‚
â”‚                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è¼¸å…¥è¨Šæ¯...                            â”‚
â”‚ [@] [ğŸ“] [emoji] [ğŸ’¾ å„²å­˜å°è©±]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç‰¹æ®ŠåŠŸèƒ½:
  â€¢ @æåŠ: @Alex, @Sarah, @all
  â€¢ ç¯€é»å¼•ç”¨: [ğŸ“ node_003] é»æ“Šè·³è½‰
  â€¢ ç‰ˆæœ¬å¼•ç”¨: [ğŸ“š v2.3] é»æ“ŠæŸ¥çœ‹
  â€¢ ä»£ç¢¼ç‰‡æ®µ: ```json {...}```
  â€¢ è¡¨æƒ…ç¬¦è™Ÿ: :thumbsup: â†’ ğŸ‘
```

---

## ğŸ› ï¸ å®Œæ•´æŠ€è¡“å¯¦ç¾ä»£ç¢¼

### WebSocket å”ä½œæ¶æ§‹

```typescript
// ===== å”ä½œæœå‹™ - WebSocket é€£æ¥ç®¡ç† =====

interface CollaborationMessage {
  type: 'cursor' | 'node' | 'edge' | 'user' | 'lock' | 'chat';
  action: string;
  userId: string;
  workflowId: string;
  data: any;
  timestamp: number;
}

class CollaborationService {
  private ws: WebSocket | null = null;
  private reconnectAttempts = 0;
  private maxReconnectAttempts = 5;
  private heartbeatInterval: NodeJS.Timeout | null = null;

  constructor(
    private workflowId: string,
    private userId: string,
    private onMessage: (message: CollaborationMessage) => void
  ) {}

  connect() {
    const wsUrl = `wss://api.example.com/collaboration/${this.workflowId}`;
    this.ws = new WebSocket(wsUrl);

    this.ws.onopen = () => {
      console.log('âœ… WebSocket connected');
      this.reconnectAttempts = 0;
      this.startHeartbeat();
      this.sendJoinMessage();
    };

    this.ws.onmessage = (event) => {
      const message: CollaborationMessage = JSON.parse(event.data);
      this.onMessage(message);
    };

    this.ws.onerror = (error) => {
      console.error('âŒ WebSocket error:', error);
    };

    this.ws.onclose = () => {
      console.log('âš ï¸ WebSocket disconnected');
      this.stopHeartbeat();
      this.attemptReconnect();
    };
  }

  disconnect() {
    this.stopHeartbeat();
    this.sendLeaveMessage();
    this.ws?.close();
    this.ws = null;
  }

  sendMessage(message: Omit<CollaborationMessage, 'userId' | 'workflowId' | 'timestamp'>) {
    if (this.ws?.readyState === WebSocket.OPEN) {
      const fullMessage: CollaborationMessage = {
        ...message,
        userId: this.userId,
        workflowId: this.workflowId,
        timestamp: Date.now(),
      };
      this.ws.send(JSON.stringify(fullMessage));
    }
  }

  // ç™¼é€æ¸¸æ¨™ä½ç½® (ç¯€æµåˆ° 100ms)
  sendCursorPosition = throttle((x: number, y: number) => {
    this.sendMessage({
      type: 'cursor',
      action: 'move',
      data: { x, y },
    });
  }, 100);

  // ç™¼é€ç¯€é»æ“ä½œ
  sendNodeOperation(action: 'create' | 'update' | 'move' | 'delete', nodeData: any) {
    this.sendMessage({
      type: 'node',
      action,
      data: nodeData,
    });
  }

  // ç™¼é€é€£æ¥æ“ä½œ
  sendEdgeOperation(action: 'create' | 'update' | 'delete', edgeData: any) {
    this.sendMessage({
      type: 'edge',
      action,
      data: edgeData,
    });
  }

  // è«‹æ±‚ç¯€é»é–å®š
  requestNodeLock(nodeId: string) {
    this.sendMessage({
      type: 'lock',
      action: 'request',
      data: { nodeId },
    });
  }

  // é‡‹æ”¾ç¯€é»é–å®š
  releaseNodeLock(nodeId: string) {
    this.sendMessage({
      type: 'lock',
      action: 'release',
      data: { nodeId },
    });
  }

  // ç™¼é€èŠå¤©è¨Šæ¯
  sendChatMessage(message: string, mentions: string[] = []) {
    this.sendMessage({
      type: 'chat',
      action: 'message',
      data: { message, mentions },
    });
  }

  private sendJoinMessage() {
    this.sendMessage({
      type: 'user',
      action: 'join',
      data: { userId: this.userId },
    });
  }

  private sendLeaveMessage() {
    this.sendMessage({
      type: 'user',
      action: 'leave',
      data: { userId: this.userId },
    });
  }

  private startHeartbeat() {
    this.heartbeatInterval = setInterval(() => {
      if (this.ws?.readyState === WebSocket.OPEN) {
        this.ws.send(JSON.stringify({ type: 'ping' }));
      }
    }, 30000); // æ¯ 30 ç§’ç™¼é€å¿ƒè·³
  }

  private stopHeartbeat() {
    if (this.heartbeatInterval) {
      clearInterval(this.heartbeatInterval);
      this.heartbeatInterval = null;
    }
  }

  private attemptReconnect() {
    if (this.reconnectAttempts < this.maxReconnectAttempts) {
      this.reconnectAttempts++;
      const delay = Math.min(1000 * Math.pow(2, this.reconnectAttempts), 30000);
      console.log(`ğŸ”„ Reconnecting in ${delay}ms... (Attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts})`);
      setTimeout(() => this.connect(), delay);
    } else {
      console.error('âŒ Max reconnection attempts reached');
    }
  }
}

// ç¯€æµå‡½æ•¸
function throttle(func: Function, delay: number) {
  let lastCall = 0;
  return function (...args: any[]) {
    const now = Date.now();
    if (now - lastCall >= delay) {
      lastCall = now;
      return func(...args);
    }
  };
}

// ===== ä½¿ç”¨ç¯„ä¾‹ =====

const collaborationService = new CollaborationService(
  'workflow_123',
  'user_456',
  (message) => {
    console.log('Received message:', message);

    switch (message.type) {
      case 'cursor':
        updateRemoteCursor(message.userId, message.data);
        break;
      case 'node':
        syncNodeOperation(message.action, message.data);
        break;
      case 'edge':
        syncEdgeOperation(message.action, message.data);
        break;
      case 'lock':
        handleLockOperation(message.action, message.data);
        break;
      case 'chat':
        displayChatMessage(message);
        break;
    }
  }
);

collaborationService.connect();

// æ¸…ç†
window.addEventListener('beforeunload', () => {
  collaborationService.disconnect();
});
```

### ç‰ˆæœ¬æ§åˆ¶ç‹€æ…‹ç®¡ç†

```typescript
// ===== ç‰ˆæœ¬æ§åˆ¶ Store (Zustand) =====

interface WorkflowVersion {
  id: string;
  version: string;
  name: string;
  description: string;
  tags: string[];
  author: {
    id: string;
    name: string;
    email: string;
  };
  createdAt: Date;
  snapshot: {
    nodes: Node[];
    edges: Edge[];
    config: Record<string, any>;
  };
  changes: {
    nodesAdded: number;
    nodesModified: number;
    nodesDeleted: number;
    edgesAdded: number;
    edgesModified: number;
    edgesDeleted: number;
  };
}

interface VersionControlState {
  // ç‰ˆæœ¬åˆ—è¡¨
  versions: WorkflowVersion[];
  currentVersion: string | null;
  loadingVersions: boolean;

  // ç‰ˆæœ¬æ“ä½œ
  loadVersions: () => Promise<void>;
  saveVersion: (name: string, description: string, tags: string[]) => Promise<void>;
  loadVersion: (versionId: string) => Promise<void>;
  deleteVersion: (versionId: string) => Promise<void>;

  // ç‰ˆæœ¬å°æ¯”
  compareVersions: (baseId: string, targetId: string) => Promise<VersionDiff>;

  // é‚„åŸç‰ˆæœ¬
  restoreVersion: (versionId: string) => Promise<void>;
}

interface VersionDiff {
  base: WorkflowVersion;
  target: WorkflowVersion;
  changes: {
    nodesAdded: Node[];
    nodesModified: Array<{
      node: Node;
      changes: Record<string, { old: any; new: any }>;
    }>;
    nodesDeleted: Node[];
    edgesAdded: Edge[];
    edgesModified: Array<{
      edge: Edge;
      changes: Record<string, { old: any; new: any }>;
    }>;
    edgesDeleted: Edge[];
  };
}

const useVersionControlStore = create<VersionControlState>((set, get) => ({
  versions: [],
  currentVersion: null,
  loadingVersions: false,

  loadVersions: async () => {
    set({ loadingVersions: true });
    try {
      const response = await fetch('/api/workflows/123/versions');
      const versions = await response.json();
      set({ versions, loadingVersions: false });
    } catch (error) {
      console.error('Failed to load versions:', error);
      set({ loadingVersions: false });
    }
  },

  saveVersion: async (name, description, tags) => {
    const workflowStore = useWorkflowEditorStore.getState();
    const snapshot = {
      nodes: workflowStore.nodes,
      edges: workflowStore.edges,
      config: workflowStore.config,
    };

    // è¨ˆç®—è®Šæ›´
    const previousVersion = get().versions[0];
    const changes = calculateChanges(previousVersion?.snapshot, snapshot);

    const newVersion: WorkflowVersion = {
      id: generateId(),
      version: generateVersionNumber(get().versions),
      name,
      description,
      tags,
      author: getCurrentUser(),
      createdAt: new Date(),
      snapshot,
      changes,
    };

    try {
      const response = await fetch('/api/workflows/123/versions', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(newVersion),
      });

      if (response.ok) {
        set(state => ({
          versions: [newVersion, ...state.versions],
          currentVersion: newVersion.id,
        }));
        toast.success(`ç‰ˆæœ¬ ${newVersion.version} å·²å„²å­˜`);
      }
    } catch (error) {
      console.error('Failed to save version:', error);
      toast.error('å„²å­˜ç‰ˆæœ¬å¤±æ•—');
    }
  },

  loadVersion: async (versionId) => {
    const version = get().versions.find(v => v.id === versionId);
    if (!version) return;

    const workflowStore = useWorkflowEditorStore.getState();
    workflowStore.setNodes(version.snapshot.nodes);
    workflowStore.setEdges(version.snapshot.edges);
    workflowStore.setConfig(version.snapshot.config);

    set({ currentVersion: versionId });
    toast.success(`å·²è¼‰å…¥ç‰ˆæœ¬ ${version.version}`);
  },

  deleteVersion: async (versionId) => {
    try {
      const response = await fetch(`/api/workflows/123/versions/${versionId}`, {
        method: 'DELETE',
      });

      if (response.ok) {
        set(state => ({
          versions: state.versions.filter(v => v.id !== versionId),
        }));
        toast.success('ç‰ˆæœ¬å·²åˆªé™¤');
      }
    } catch (error) {
      console.error('Failed to delete version:', error);
      toast.error('åˆªé™¤ç‰ˆæœ¬å¤±æ•—');
    }
  },

  compareVersions: async (baseId, targetId) => {
    const versions = get().versions;
    const base = versions.find(v => v.id === baseId);
    const target = versions.find(v => v.id === targetId);

    if (!base || !target) {
      throw new Error('ç‰ˆæœ¬ä¸å­˜åœ¨');
    }

    const changes = calculateDetailedChanges(base.snapshot, target.snapshot);

    return {
      base,
      target,
      changes,
    };
  },

  restoreVersion: async (versionId) => {
    const confirmed = await confirm('ç¢ºå®šè¦é‚„åŸåˆ°æ­¤ç‰ˆæœ¬å—ï¼Ÿç•¶å‰æœªå„²å­˜çš„è®Šæ›´å°‡æœƒéºå¤±ã€‚');
    if (!confirmed) return;

    await get().loadVersion(versionId);
    toast.success('ç‰ˆæœ¬å·²é‚„åŸ');
  },
}));

// ===== è¼”åŠ©å‡½æ•¸ =====

function calculateChanges(previous: any, current: any) {
  if (!previous) {
    return {
      nodesAdded: current.nodes.length,
      nodesModified: 0,
      nodesDeleted: 0,
      edgesAdded: current.edges.length,
      edgesModified: 0,
      edgesDeleted: 0,
    };
  }

  // è¨ˆç®—ç¯€é»è®Šæ›´
  const prevNodeIds = new Set(previous.nodes.map((n: Node) => n.id));
  const currNodeIds = new Set(current.nodes.map((n: Node) => n.id));

  const nodesAdded = current.nodes.filter((n: Node) => !prevNodeIds.has(n.id)).length;
  const nodesDeleted = previous.nodes.filter((n: Node) => !currNodeIds.has(n.id)).length;
  const nodesModified = current.nodes.filter((n: Node) => {
    if (!prevNodeIds.has(n.id)) return false;
    const prevNode = previous.nodes.find((pn: Node) => pn.id === n.id);
    return JSON.stringify(prevNode) !== JSON.stringify(n);
  }).length;

  // è¨ˆç®—é€£æ¥è®Šæ›´
  const prevEdgeIds = new Set(previous.edges.map((e: Edge) => e.id));
  const currEdgeIds = new Set(current.edges.map((e: Edge) => e.id));

  const edgesAdded = current.edges.filter((e: Edge) => !prevEdgeIds.has(e.id)).length;
  const edgesDeleted = previous.edges.filter((e: Edge) => !currEdgeIds.has(e.id)).length;
  const edgesModified = current.edges.filter((e: Edge) => {
    if (!prevEdgeIds.has(e.id)) return false;
    const prevEdge = previous.edges.find((pe: Edge) => pe.id === e.id);
    return JSON.stringify(prevEdge) !== JSON.stringify(e);
  }).length;

  return {
    nodesAdded,
    nodesModified,
    nodesDeleted,
    edgesAdded,
    edgesModified,
    edgesDeleted,
  };
}

function calculateDetailedChanges(previous: any, current: any): VersionDiff['changes'] {
  // è©³ç´°çš„å·®ç•°è¨ˆç®—é‚è¼¯
  // è¿”å›å…·é«”çš„æ–°å¢ã€ä¿®æ”¹ã€åˆªé™¤é …ç›®
  // ...å¯¦ç¾ç´°ç¯€çœç•¥
  return {
    nodesAdded: [],
    nodesModified: [],
    nodesDeleted: [],
    edgesAdded: [],
    edgesModified: [],
    edgesDeleted: [],
  };
}
```

---

## âœ… Part 4 æª¢æŸ¥æ¸…å–®

### å®Œæˆé …ç›®
- [âœ…] ç‰ˆæœ¬æ§åˆ¶ç³»çµ±è¨­è¨ˆ
  - [âœ…] ç‰ˆæœ¬å„²å­˜å°è©±æ¡†
  - [âœ…] è‡ªå‹•è®Šæ›´çµ±è¨ˆ
- [âœ…] ç‰ˆæœ¬æ­·å²ç®¡ç†
  - [âœ…] ç‰ˆæœ¬æ­·å²é¢æ¿
  - [âœ…] ç‰ˆæœ¬çµ±è¨ˆå„€è¡¨æ¿
  - [âœ…] ç‰ˆæœ¬æ“ä½œï¼ˆæŸ¥çœ‹ã€é‚„åŸã€åˆªé™¤ï¼‰
- [âœ…] ç‰ˆæœ¬å°æ¯”åŠŸèƒ½
  - [âœ…] ä¸¦æ’å°æ¯”è¦–åœ–
  - [âœ…] è®Šæ›´è©³æƒ…åˆ—è¡¨
  - [âœ…] è¦–è¦ºåŒ–å·®ç•°æ¨™è¨˜
- [âœ…] å¤šäººå”ä½œåŠŸèƒ½
  - [âœ…] å”ä½œç‹€æ…‹é¡¯ç¤º
  - [âœ…] å¯¦æ™‚æ¸¸æ¨™è¿½è¹¤
  - [âœ…] ç¯€é»é–å®šæ©Ÿåˆ¶
- [âœ…] å¯¦æ™‚å”ä½œç·¨è¼¯
  - [âœ…] WebSocket åŒæ­¥
  - [âœ…] æ“ä½œå»£æ’­
  - [âœ…] å”ä½œé€šçŸ¥
- [âœ…] å”ä½œè¡çªè§£æ±º
  - [âœ…] è¡çªæª¢æ¸¬
  - [âœ…] è‡ªå‹•åˆä½µ
  - [âœ…] æ‰‹å‹•è§£æ±º
- [âœ…] å…§å»ºèŠå¤©åŠŸèƒ½
- [âœ…] å®Œæ•´æŠ€è¡“å¯¦ç¾ä»£ç¢¼
  - [âœ…] WebSocket å”ä½œæœå‹™
  - [âœ…] ç‰ˆæœ¬æ§åˆ¶ Store

### ä¸‹ä¸€æ­¥ï¼ˆPart 5ï¼‰
- [ ] éŸ¿æ‡‰å¼è¨­è¨ˆï¼ˆTablet/Mobileï¼‰
- [ ] ç„¡éšœç¤™è¨­è¨ˆï¼ˆWCAG 2.1 AAï¼‰
- [ ] æ¶æ§‹æ±ºç­–è¨˜éŒ„ï¼ˆADRï¼‰
- [ ] é©—æ”¶æ¨™æº–
- [ ] æ¸¬è©¦ç­–ç•¥
- [ ] æ€§èƒ½å„ªåŒ–å»ºè­°

---

**æ–‡æª”ç‹€æ…‹**: Part 4/5 å®Œæˆ âœ…
**ä¸‹ä¸€éšæ®µ**: Part 5 - éŸ¿æ‡‰å¼è¨­è¨ˆã€ç„¡éšœç¤™è¨­è¨ˆã€ADR å’Œé©—æ”¶æ¨™æº–
**é è¨ˆå®Œæˆ**: 2025-10-29
