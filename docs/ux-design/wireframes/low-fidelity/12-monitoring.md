# 12. Monitoring Dashboard - 監控儀表板

**版本**: 1.0.0
**狀態**: ✅ 已完成
**日期**: 2025-10-29
**負責人**: UI/UX Designer (BMad Method)

[← 返回 Wireframes 索引](./README.md) | [← 返回 UX Design](../README.md)

---

## 📋 概述

### 頁面目的
Monitoring Dashboard 是系統運維和性能監控的核心頁面，為管理員（David）和開發者（Alex）提供實時系統狀態、執行歷史、告警管理和資源使用統計，確保系統健康運行和問題快速定位。

### 核心功能
- **實時監控**: 系統健康狀態、關鍵性能指標、實時圖表
- **執行歷史**: Agent 執行記錄、日誌查看、錯誤追蹤
- **告警管理**: 告警規則配置、通知管理、告警歷史
- **資源統計**: CPU/記憶體使用、API 調用、成本追蹤
- **系統健康**: 服務狀態檢查、依賴服務監控

### 用戶角色
- **David (Enterprise Admin)**: 主要用戶，監控系統整體運行狀況、管理告警規則
- **Alex (Agent Developer)**: 監控自己的 Agent 性能、查看執行日誌、調試問題
- **Sarah (Data Analyst)**: 查看數據查詢執行歷史和性能統計

---

## 🎨 Desktop 版本 (≥1280px)

### 12.1 Overview Dashboard - 概覽儀表板

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│ [≡] Semantic Kernel Agentic      [🔍 搜索...]  [🔔 3]  [⚙️]  [👤 David Chen] │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  📊 監控儀表板                                          最後更新: 2 秒前 [⟳]    │
│  ─────────────────────────────────────────────────────────────────────────      │
│                                                                                 │
│  [📈 概覽] [📋 執行歷史] [🔔 告警管理] [💰 成本追蹤] [⚙️ 系統健康]            │
│  ═══════                                                                        │
│                                                                                 │
│  ┌─ 系統健康狀態 ────────────────────────────────────────────────────────┐    │
│  │                                                                        │    │
│  │   🟢 系統運行正常    正常運行時間: 15 天 8 小時 23 分鐘                 │    │
│  │                                                                        │    │
│  │   [🟢 API 服務] [🟢 資料庫] [🟢 Redis] [🟡 向量資料庫] [🟢 消息隊列]   │    │
│  │                                                    ↑ 響應時間較慢 (220ms) │    │
│  └────────────────────────────────────────────────────────────────────────┘    │
│                                                                                 │
│  ┌─ 關鍵指標（最近 24 小時）──────────────────────────────────────────┐        │
│  │                                                                     │        │
│  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  │
│  │  │ 📊 總執行次數 │  │ ✅ 成功率     │  │ ⚡ 平均響應   │  │ 💰 今日成本   │  │
│  │  │              │  │              │  │              │  │              │  │
│  │  │   1,247      │  │   94.2%      │  │   2.3s       │  │   $124.50    │  │
│  │  │   ↑ +12.3%   │  │   ↓ -1.2%    │  │   ↑ +0.2s    │  │   ↑ +$8.20   │  │
│  │  │              │  │              │  │              │  │              │  │
│  │  └──────────────┘  └──────────────┘  └──────────────┘  └──────────────┘  │
│  │                                                                     │        │
│  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  │
│  │  │ 🚨 告警次數   │  │ 👥 活躍用戶   │  │ 🤖 活躍 Agent│  │ 📝 日誌量     │  │
│  │  │              │  │              │  │              │  │              │  │
│  │  │      3       │  │     42       │  │     18       │  │   12.4 GB    │  │
│  │  │   ↓ -2       │  │   ↑ +5       │  │   →  0       │  │   ↑ +1.2 GB  │  │
│  │  │              │  │              │  │              │  │              │  │
│  │  └──────────────┘  └──────────────┘  └──────────────┘  └──────────────┘  │
│  │                                                                     │        │
│  └─────────────────────────────────────────────────────────────────────┘        │
│                                                                                 │
│  ┌─ 實時性能圖表 ───────────────────────────────────────────────────────┐      │
│  │                                                                       │      │
│  │  [📈 執行次數] [⚡ 響應時間] [💰 成本] [🚨 錯誤率]   時間範圍: [最近24小時▾]│      │
│  │                                                                       │      │
│  │   執行次數 / 小時                                                      │      │
│  │   120┤                                                           ╭─   │      │
│  │   100┤                                         ╭─────╮       ╭──╯    │      │
│  │    80┤                           ╭────╮    ╭──╯     ╰───╮  ╭╯        │      │
│  │    60┤             ╭────╮    ╭──╯    ╰────╯            ╰──╯          │      │
│  │    40┤      ╭──────╯    ╰────╯                                        │      │
│  │    20┤  ╭───╯                                                         │      │
│  │     0└──┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴──   │      │
│  │       00:00  04:00  08:00  12:00  16:00  20:00  24:00                │      │
│  │                                                                       │      │
│  │   🔵 成功執行  🔴 失敗執行  🟡 超時執行                                 │      │
│  │                                                                       │      │
│  └───────────────────────────────────────────────────────────────────────┘      │
│                                                                                 │
│  ┌─ 最近執行記錄 ─────────────────────────────────┐ ┌─ 最近告警 ──────────┐   │
│  │                                                 │ │                     │   │
│  │  ● 14:23:45  Customer Support Agent            │ │ 🔴 14:20  高錯誤率   │   │
│  │    ✅ 成功 | 2.1s | $0.12 | GPT-4               │ │   Agent X 錯誤率>10%│   │
│  │                                                 │ │                     │   │
│  │  ● 14:23:41  Data Analysis Workflow            │ │ 🟡 13:45  響應緩慢   │   │
│  │    ✅ 成功 | 8.3s | $0.45 | Claude 3            │ │   平均響應>5s       │   │
│  │                                                 │ │                     │   │
│  │  ● 14:23:38  SQL Query Agent                   │ │ 🟢 12:30  已恢復     │   │
│  │    ❌ 失敗 | 1.2s | $0.05 | GPT-3.5             │ │   資料庫連接正常     │   │
│  │    錯誤: Database connection timeout            │ │                     │   │
│  │                                                 │ │ [查看全部告警 →]     │   │
│  │  [查看全部執行記錄 →]                            │ │                     │   │
│  │                                                 │ └─────────────────────┘   │
│  └─────────────────────────────────────────────────┘                           │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘
```

**設計說明**:
- **系統健康橫幅**: 一目了然的系統狀態，服務狀態用顏色標識（綠色=正常，黃色=警告，紅色=故障）
- **8 個關鍵指標卡片**: 最重要的業務和技術指標，帶趨勢箭頭和百分比變化
- **實時圖表**: 可切換不同指標（執行次數、響應時間、成本、錯誤率），時間範圍可調整
- **最近執行+告警**: 雙欄布局，快速查看最新活動和問題

---

### 12.2 Execution History - 執行歷史

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│ [≡] Semantic Kernel Agentic      [🔍 搜索...]  [🔔 3]  [⚙️]  [👤 David Chen] │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  📊 監控儀表板                                                                   │
│  ─────────────────────────────────────────────────────────────────────────      │
│                                                                                 │
│  [📈 概覽] [📋 執行歷史] [🔔 告警管理] [💰 成本追蹤] [⚙️ 系統健康]            │
│         ═══════════                                                             │
│                                                                                 │
│  ┌─ 篩選與搜索 ──────────────────────────────────────────────────────────┐    │
│  │                                                                        │    │
│  │  [🔍 搜索 Agent 名稱、用戶、錯誤訊息...]                                │    │
│  │                                                                        │    │
│  │  Agent: [全部 ▾]  狀態: [全部 ▾]  模型: [全部 ▾]  用戶: [全部 ▾]       │    │
│  │                                                                        │    │
│  │  時間範圍: [過去 24 小時 ▾]  自訂: [2025-10-20] 至 [2025-10-29]        │    │
│  │                                                                        │    │
│  │  響應時間: [ 0s ] ────●──── [ 10s+ ]    成本: [ $0 ] ────●──── [ $1+ ] │    │
│  │                                                                        │    │
│  │  [重置篩選] [匯出 CSV]                                                 │    │
│  │                                                                        │    │
│  └────────────────────────────────────────────────────────────────────────┘    │
│                                                                                 │
│  ┌─ 執行歷史列表 ─────────────────────────────────────────────────────────┐    │
│  │                                                                        │    │
│  │  顯示 1,247 條記錄中的 1-50 條                    [每頁: 50 ▾] [頁碼 1/25]│    │
│  │                                                                        │    │
│  │  ┌─────┬──────────┬───────────────────────┬────────┬─────┬────────┬──┐│    │
│  │  │狀態 │時間      │Agent / 用戶            │模型    │耗時 │成本    │  ││    │
│  │  ├─────┼──────────┼───────────────────────┼────────┼─────┼────────┼──┤│    │
│  │  │✅   │14:23:45  │Customer Support Agent │GPT-4   │2.1s │$0.12   │→││    │
│  │  │     │          │by Alex Chen            │        │     │        │  ││    │
│  │  ├─────┼──────────┼───────────────────────┼────────┼─────┼────────┼──┤│    │
│  │  │✅   │14:23:41  │Data Analysis Workflow │Claude 3│8.3s │$0.45   │→││    │
│  │  │     │          │by Sarah Lee            │Opus    │     │        │  ││    │
│  │  ├─────┼──────────┼───────────────────────┼────────┼─────┼────────┼──┤│    │
│  │  │❌   │14:23:38  │SQL Query Agent        │GPT-3.5 │1.2s │$0.05   │→││    │
│  │  │     │          │by Sarah Lee            │        │     │        │  ││    │
│  │  │     │          │❌ Database connection timeout             │  ││    │
│  │  ├─────┼──────────┼───────────────────────┼────────┼─────┼────────┼──┤│    │
│  │  │⏱️   │14:23:35  │Report Generator       │GPT-4   │12.8s│$0.89   │→││    │
│  │  │     │          │by Sarah Lee            │        │     │        │  ││    │
│  │  │     │          │⚠️ 執行時間超過 10 秒                      │  ││    │
│  │  ├─────┼──────────┼───────────────────────┼────────┼─────┼────────┼──┤│    │
│  │  │✅   │14:23:30  │Email Responder        │GPT-3.5 │1.8s │$0.04   │→││    │
│  │  │     │          │by Alex Chen            │Turbo   │     │        │  ││    │
│  │  ├─────┼──────────┼───────────────────────┼────────┼─────┼────────┼──┤│    │
│  │  │❌   │14:23:28  │Code Review Assistant  │Claude 3│3.2s │$0.18   │→││    │
│  │  │     │          │by Alex Chen            │Sonnet  │     │        │  ││    │
│  │  │     │          │❌ API rate limit exceeded                 │  ││    │
│  │  └─────┴──────────┴───────────────────────┴────────┴─────┴────────┴──┘│    │
│  │                                                                        │    │
│  │  [← 上一頁]  1  2  3  4  5  ...  25  [下一頁 →]                        │    │
│  │                                                                        │    │
│  └────────────────────────────────────────────────────────────────────────┘    │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘

點擊任意記錄的 → 查看詳細執行日誌和追蹤信息
```

**交互說明**:
- **多維度篩選**: Agent、狀態、模型、用戶、時間、響應時間、成本等
- **實時搜索**: 支持 Agent 名稱、用戶、錯誤訊息的模糊搜索
- **狀態圖標**: ✅ 成功 | ❌ 失敗 | ⏱️ 超時 | 🔄 進行中
- **點擊查看詳情**: 點擊記錄展開查看完整日誌、輸入輸出、錯誤堆棧

---

### 12.3 Execution Details Modal - 執行詳情彈窗

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                                                                                 │
│    ┌─ 執行詳情 ─────────────────────────────────────────────────────────┐      │
│    │                                                           [✕]       │      │
│    │  Customer Support Agent                                            │      │
│    │  執行 ID: exec_20251029_142345_a1b2c3                              │      │
│    │  ──────────────────────────────────────────────────────────────   │      │
│    │                                                                    │      │
│    │  [📊 概覽] [📝 日誌] [💬 輸入/輸出] [📈 追蹤] [⚙️ 配置]             │      │
│    │  ═══════                                                           │      │
│    │                                                                    │      │
│    │  ┌─ 基本信息 ──────────────────────────────────────────────┐      │      │
│    │  │                                                          │      │      │
│    │  │  狀態:        ✅ 成功                                     │      │      │
│    │  │  執行時間:    2025-10-29 14:23:45 → 14:23:47 (2.1s)     │      │      │
│    │  │  觸發者:      Alex Chen (alex@company.com)               │      │      │
│    │  │  模型:        GPT-4 (gpt-4-0125-preview)                 │      │      │
│    │  │  成本:        $0.12                                      │      │      │
│    │  │                                                          │      │      │
│    │  └──────────────────────────────────────────────────────────┘      │      │
│    │                                                                    │      │
│    │  ┌─ 性能指標 ──────────────────────────────────────────────┐      │      │
│    │  │                                                          │      │      │
│    │  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐     │      │      │
│    │  │  │總耗時       │  │LLM 調用     │  │Token 使用    │     │      │      │
│    │  │  │2.1s         │  │1.8s (86%)   │  │1,247 tokens │     │      │      │
│    │  │  └─────────────┘  └─────────────┘  └─────────────┘     │      │      │
│    │  │                                                          │      │      │
│    │  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐     │      │      │
│    │  │  │Plugin 耗時  │  │檢索耗時     │  │記憶體使用    │     │      │      │
│    │  │  │0.2s (9%)    │  │0.1s (5%)    │  │124 MB       │     │      │      │
│    │  │  └─────────────┘  └─────────────┘  └─────────────┘     │      │      │
│    │  │                                                          │      │      │
│    │  └──────────────────────────────────────────────────────────┘      │      │
│    │                                                                    │      │
│    │  ┌─ 執行時間軸 ────────────────────────────────────────────┐      │      │
│    │  │                                                          │      │      │
│    │  │  14:23:45.120  ► 開始執行                                │      │      │
│    │  │  14:23:45.145  ► 載入 Agent 配置 (25ms)                  │      │      │
│    │  │  14:23:45.260  ► 知識庫檢索完成 (115ms) - 找到 3 個文檔   │      │      │
│    │  │  14:23:45.270  ► 調用 GPT-4 API (10ms 延遲)              │      │      │
│    │  │  14:23:47.050  ► GPT-4 響應完成 (1.78s)                  │      │      │
│    │  │  14:23:47.180  ► 執行 Plugin: send_email (130ms)        │      │      │
│    │  │  14:23:47.220  ✅ 執行成功 (40ms 收尾)                    │      │      │
│    │  │                                                          │      │      │
│    │  │  總計: 2.1s                                              │      │      │
│    │  │                                                          │      │      │
│    │  └──────────────────────────────────────────────────────────┘      │      │
│    │                                                                    │      │
│    │  [📥 下載完整日誌]  [🔄 重新執行]  [⚠️ 報告問題]              │      │
│    │                                                                    │      │
│    └────────────────────────────────────────────────────────────────────┘      │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘
```

**Tab: 日誌**

```
│    │  [📊 概覽] [📝 日誌] [💬 輸入/輸出] [📈 追蹤] [⚙️ 配置]             │      │
│    │         ═══════                                                     │      │
│    │                                                                    │      │
│    │  ┌─ 執行日誌 ──────────────────────────────────────────────┐      │      │
│    │  │                                                          │      │      │
│    │  │  [全部 ▾] [INFO ▾] [DEBUG ▾] [ERROR ▾]  [🔍 搜索日誌...]  │      │      │
│    │  │                                                          │      │      │
│    │  │  ─────────────────────────────────────────────────────  │      │      │
│    │  │  14:23:45.120  INFO   開始執行 Agent                     │      │      │
│    │  │  14:23:45.125  DEBUG  載入配置文件                       │      │      │
│    │  │  14:23:45.145  INFO   Agent 配置載入完成                 │      │      │
│    │  │  14:23:45.150  DEBUG  初始化知識庫連接                   │      │      │
│    │  │  14:23:45.165  INFO   開始檢索知識庫                     │      │      │
│    │  │  14:23:45.260  INFO   檢索完成: 找到 3 個相關文檔        │      │      │
│    │  │  14:23:45.265  DEBUG  相關度分數: [0.92, 0.87, 0.81]    │      │      │
│    │  │  14:23:45.270  INFO   準備調用 GPT-4 API                │      │      │
│    │  │  14:23:45.280  DEBUG  Request: {                        │      │      │
│    │  │                        model: "gpt-4-0125-preview",      │      │      │
│    │  │                        temperature: 0.7,                 │      │      │
│    │  │                        max_tokens: 1500                  │      │      │
│    │  │                      }                                   │      │      │
│    │  │  14:23:47.050  INFO   GPT-4 響應完成 (1.78s)            │      │      │
│    │  │  14:23:47.055  DEBUG  Response: 1247 tokens generated   │      │      │
│    │  │  14:23:47.060  INFO   開始執行 Plugin: send_email       │      │      │
│    │  │  14:23:47.180  INFO   郵件發送成功                       │      │      │
│    │  │  14:23:47.220  INFO   ✅ 執行完成                        │      │      │
│    │  │  ─────────────────────────────────────────────────────  │      │      │
│    │  │                                                          │      │      │
│    │  │  18 行日誌                                  [↓ 自動捲動]  │      │      │
│    │  │                                                          │      │      │
│    │  └──────────────────────────────────────────────────────────┘      │      │
```

**Tab: 輸入/輸出**

```
│    │  [📊 概覽] [📝 日誌] [💬 輸入/輸出] [📈 追蹤] [⚙️ 配置]             │      │
│    │                  ═══════════                                       │      │
│    │                                                                    │      │
│    │  ┌─ 輸入 ──────────────────────────────────────────────────┐      │      │
│    │  │                                                          │      │      │
│    │  │  **User Message**:                                       │      │      │
│    │  │  "請幫我處理客戶 John Doe 的退款申請，訂單號 #12345。     │      │      │
│    │  │   客戶表示收到的產品與描述不符，要求全額退款。"           │      │      │
│    │  │                                                          │      │      │
│    │  │  **Context Variables**:                                  │      │      │
│    │  │  - user_id: "user_alex_123"                              │      │      │
│    │  │  - session_id: "sess_abc123"                             │      │      │
│    │  │  - timestamp: "2025-10-29T14:23:45Z"                     │      │      │
│    │  │                                                          │      │      │
│    │  │  [📋 複製輸入]                                            │      │      │
│    │  │                                                          │      │      │
│    │  └──────────────────────────────────────────────────────────┘      │      │
│    │                                                                    │      │
│    │  ┌─ 輸出 ──────────────────────────────────────────────────┐      │      │
│    │  │                                                          │      │      │
│    │  │  **Assistant Response**:                                 │      │      │
│    │  │  "我已經查詢了訂單 #12345 的詳細信息。客戶 John Doe      │      │      │
│    │  │   於 10 月 15 日下單購買 Premium Widget，支付金額         │      │      │
│    │  │   $299.99。根據我們的退款政策，產品不符合描述的情況       │      │      │
│    │  │   符合全額退款條件。                                      │      │      │
│    │  │                                                          │      │      │
│    │  │   我已經為客戶發起了退款流程，預計 3-5 個工作日到賬。     │      │      │
│    │  │   同時已發送確認郵件至客戶信箱 john.doe@email.com。      │      │      │
│    │  │                                                          │      │      │
│    │  │   後續建議:                                              │      │      │
│    │  │   1. 更新產品描述以避免類似情況                          │      │      │
│    │  │   2. 安排退貨物流                                        │      │      │
│    │  │   3. 記錄客戶反饋以改進產品質量"                         │      │      │
│    │  │                                                          │      │      │
│    │  │  **Actions Taken**:                                      │      │      │
│    │  │  ✅ 查詢訂單信息                                          │      │      │
│    │  │  ✅ 驗證退款條件                                          │      │      │
│    │  │  ✅ 發起退款流程                                          │      │      │
│    │  │  ✅ 發送確認郵件                                          │      │      │
│    │  │                                                          │      │      │
│    │  │  [📋 複製輸出]                                            │      │      │
│    │  │                                                          │      │      │
│    │  └──────────────────────────────────────────────────────────┘      │      │
```

---

### 12.4 Alerts Management - 告警管理

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│ [≡] Semantic Kernel Agentic      [🔍 搜索...]  [🔔 3]  [⚙️]  [👤 David Chen] │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  📊 監控儀表板                                                                   │
│  ─────────────────────────────────────────────────────────────────────────      │
│                                                                                 │
│  [📈 概覽] [📋 執行歷史] [🔔 告警管理] [💰 成本追蹤] [⚙️ 系統健康]            │
│                       ═══════════                                               │
│                                                                                 │
│  [📋 告警規則] [📜 告警歷史] [⚙️ 通知設定]                                      │
│  ═══════════                                                                    │
│                                                                                 │
│  ┌─ 告警規則配置 ─────────────────────────────────────────────────────────┐    │
│  │                                                                        │    │
│  │  [+ 新增規則]                                     [🔍 搜索規則...]     │    │
│  │                                                                        │    │
│  │  ┌────────────────────────────────────────────────────────────────┐  │    │
│  │  │ 🔴 錯誤率過高                                        [啟用 ●]  │  │    │
│  │  │ ─────────────────────────────────────────────────────────────  │  │    │
│  │  │ 條件: Agent 錯誤率 > 10% (最近 15 分鐘)                        │  │    │
│  │  │ 嚴重性: 🔴 Critical                                            │  │    │
│  │  │ 通知: Email, Slack                                             │  │    │
│  │  │ 觸發次數: 12 次 (最近 30 天)                                   │  │    │
│  │  │                                         [編輯] [刪除] [測試]    │  │    │
│  │  └────────────────────────────────────────────────────────────────┘  │    │
│  │                                                                        │    │
│  │  ┌────────────────────────────────────────────────────────────────┐  │    │
│  │  │ 🟡 響應時間緩慢                                      [啟用 ●]  │  │    │
│  │  │ ─────────────────────────────────────────────────────────────  │  │    │
│  │  │ 條件: 平均響應時間 > 5 秒 (最近 10 分鐘)                       │  │    │
│  │  │ 嚴重性: 🟡 Warning                                             │  │    │
│  │  │ 通知: Slack                                                    │  │    │
│  │  │ 觸發次數: 8 次 (最近 30 天)                                    │  │    │
│  │  │                                         [編輯] [刪除] [測試]    │  │    │
│  │  └────────────────────────────────────────────────────────────────┘  │    │
│  │                                                                        │    │
│  │  ┌────────────────────────────────────────────────────────────────┐  │    │
│  │  │ 🔴 服務不可用                                        [啟用 ●]  │  │    │
│  │  │ ─────────────────────────────────────────────────────────────  │  │    │
│  │  │ 條件: API 服務無響應 (連續 3 次健康檢查失敗)                   │  │    │
│  │  │ 嚴重性: 🔴 Critical                                            │  │    │
│  │  │ 通知: Email, Slack, SMS                                        │  │    │
│  │  │ 觸發次數: 2 次 (最近 30 天)                                    │  │    │
│  │  │                                         [編輯] [刪除] [測試]    │  │    │
│  │  └────────────────────────────────────────────────────────────────┘  │    │
│  │                                                                        │    │
│  │  ┌────────────────────────────────────────────────────────────────┐  │    │
│  │  │ 🟡 成本超支預警                                      [啟用 ●]  │  │    │
│  │  │ ─────────────────────────────────────────────────────────────  │  │    │
│  │  │ 條件: 每日成本 > $200                                          │  │    │
│  │  │ 嚴重性: 🟡 Warning                                             │  │    │
│  │  │ 通知: Email                                                    │  │    │
│  │  │ 觸發次數: 3 次 (最近 30 天)                                    │  │    │
│  │  │                                         [編輯] [刪除] [測試]    │  │    │
│  │  └────────────────────────────────────────────────────────────────┘  │    │
│  │                                                                        │    │
│  │  ┌────────────────────────────────────────────────────────────────┐  │    │
│  │  │ 🟢 資料庫連接恢復                                    [啟用 ●]  │  │    │
│  │  │ ─────────────────────────────────────────────────────────────  │  │    │
│  │  │ 條件: 資料庫連接從失敗恢復為正常                               │  │    │
│  │  │ 嚴重性: 🟢 Info                                                │  │    │
│  │  │ 通知: Slack                                                    │  │    │
│  │  │ 觸發次數: 1 次 (最近 30 天)                                    │  │    │
│  │  │                                         [編輯] [刪除] [測試]    │  │    │
│  │  └────────────────────────────────────────────────────────────────┘  │    │
│  │                                                                        │    │
│  │  5 個規則 | 4 個已啟用 | 1 個已停用                                   │    │
│  │                                                                        │    │
│  └────────────────────────────────────────────────────────────────────────┘    │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘
```

**新增/編輯規則 Modal**:

```
┌─ 新增告警規則 ─────────────────────────────────────────────────────────┐
│                                                             [✕]       │
│  基本設定                                                              │
│  ────────────────────────────────────────────────────────────────    │
│                                                                       │
│  規則名稱 *                                                           │
│  [請輸入規則名稱...                                                ]  │
│                                                                       │
│  描述                                                                 │
│  [簡短描述這個規則的目的...                                         ]  │
│                                                                       │
│  嚴重性 *                                                             │
│  ( ) 🔴 Critical - 嚴重問題，需要立即處理                             │
│  (●) 🟡 Warning  - 警告，需要關注                                     │
│  ( ) 🟢 Info     - 信息，僅通知                                       │
│                                                                       │
│  ────────────────────────────────────────────────────────────────    │
│  條件設定                                                              │
│  ────────────────────────────────────────────────────────────────    │
│                                                                       │
│  觸發條件 *                                                           │
│  指標:     [Agent 錯誤率 ▾]                                           │
│  比較:     [大於 ▾]                                                   │
│  閾值:     [10                                    ] %                │
│  時間窗口: [15                                    ] 分鐘              │
│                                                                       │
│  [+ 添加條件 (AND)]  [+ 添加條件 (OR)]                                │
│                                                                       │
│  ────────────────────────────────────────────────────────────────    │
│  通知設定                                                              │
│  ────────────────────────────────────────────────────────────────    │
│                                                                       │
│  通知渠道 *                                                           │
│  [✓] Email     → admin@company.com, ops@company.com                  │
│  [✓] Slack     → #alerts 頻道                                         │
│  [ ] SMS       → +1 (555) 123-4567                                   │
│  [ ] Webhook   → https://your-webhook-url.com/alerts                 │
│                                                                       │
│  降噪設定                                                              │
│  靜默時間: [5                                     ] 分鐘               │
│  (同一條件在靜默時間內不重複通知)                                      │
│                                                                       │
│  ────────────────────────────────────────────────────────────────    │
│                                                                       │
│  [取消]  [測試規則]  [保存規則]                                        │
│                                                                       │
└───────────────────────────────────────────────────────────────────────┘
```

**Tab: 告警歷史**

```
│  [📋 告警規則] [📜 告警歷史] [⚙️ 通知設定]                                      │
│              ═══════════                                                        │
│                                                                                 │
│  ┌─ 告警歷史 ─────────────────────────────────────────────────────────────┐   │
│  │                                                                        │   │
│  │  時間範圍: [過去 7 天 ▾]  嚴重性: [全部 ▾]  狀態: [全部 ▾]             │   │
│  │                                                                        │   │
│  │  ┌──────────────────────────────────────────────────────────────┐    │   │
│  │  │ 🔴 14:20  錯誤率過高                              [已解決]    │    │   │
│  │  │ ─────────────────────────────────────────────────────────   │    │   │
│  │  │ Customer Support Agent 錯誤率達到 12% (閾值: 10%)           │    │   │
│  │  │ 持續時間: 10 分鐘 (14:20 - 14:30)                          │    │   │
│  │  │ 已通知: Email (David, Alex), Slack (#alerts)                │    │   │
│  │  │ 解決方式: 重啟服務後錯誤率恢復正常                          │    │   │
│  │  │                                        [查看詳情] [標記未解決]│    │   │
│  │  └──────────────────────────────────────────────────────────────┘    │   │
│  │                                                                        │   │
│  │  ┌──────────────────────────────────────────────────────────────┐    │   │
│  │  │ 🟡 13:45  響應時間緩慢                            [已解決]    │    │   │
│  │  │ ─────────────────────────────────────────────────────────   │    │   │
│  │  │ 平均響應時間達到 6.2s (閾值: 5s)                            │    │   │
│  │  │ 持續時間: 18 分鐘 (13:45 - 14:03)                          │    │   │
│  │  │ 已通知: Slack (#alerts)                                     │    │   │
│  │  │ 解決方式: 資料庫優化後性能恢復                              │    │   │
│  │  │                                        [查看詳情] [標記未解決]│    │   │
│  │  └──────────────────────────────────────────────────────────────┘    │   │
│  │                                                                        │   │
│  │  ┌──────────────────────────────────────────────────────────────┐    │   │
│  │  │ 🟢 12:30  資料庫連接恢復                          [已確認]    │    │   │
│  │  │ ─────────────────────────────────────────────────────────   │    │   │
│  │  │ 資料庫連接從失敗狀態恢復為正常                              │    │   │
│  │  │ 持續時間: 即時                                              │    │   │
│  │  │ 已通知: Slack (#alerts)                                     │    │   │
│  │  │                                        [查看詳情] [刪除]      │    │   │
│  │  └──────────────────────────────────────────────────────────────┘    │   │
│  │                                                                        │   │
│  │  顯示 28 條記錄中的 1-3 條                                 [頁碼 1/10]│   │
│  │                                                                        │   │
│  └────────────────────────────────────────────────────────────────────────┘   │
```

---

### 12.5 Cost Tracking - 成本追蹤

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│ [≡] Semantic Kernel Agentic      [🔍 搜索...]  [🔔 3]  [⚙️]  [👤 David Chen] │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  📊 監控儀表板                                                                   │
│  ─────────────────────────────────────────────────────────────────────────      │
│                                                                                 │
│  [📈 概覽] [📋 執行歷史] [🔔 告警管理] [💰 成本追蹤] [⚙️ 系統健康]            │
│                                     ═══════════                                 │
│                                                                                 │
│  ┌─ 成本概覽 ─────────────────────────────────────────────────────────────┐    │
│  │                                                                        │    │
│  │  時間範圍: [本月 (10月) ▾]                                              │    │
│  │                                                                        │    │
│  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  │
│  │  │ 💰 本月成本   │  │ 📊 每日平均   │  │ 📈 預計月底   │  │ 🎯 預算使用   │  │
│  │  │              │  │              │  │              │  │              │  │
│  │  │   $3,245.80  │  │   $124.53    │  │   $3,862.40  │  │    77.2%     │  │
│  │  │   ↑ +15.3%   │  │   ↑ +$8.20   │  │              │  │   of $5,000  │  │
│  │  │              │  │              │  │              │  │              │  │
│  │  └──────────────┘  └──────────────┘  └──────────────┘  └──────────────┘  │
│  │                                                                        │    │
│  └────────────────────────────────────────────────────────────────────────┘    │
│                                                                                 │
│  ┌─ 成本趨勢圖 ───────────────────────────────────────────────────────────┐    │
│  │                                                                        │    │
│  │  [📊 每日成本] [🤖 按 Agent] [👥 按用戶] [🔧 按模型]                     │    │
│  │  ═══════════                                                           │    │
│  │                                                                        │    │
│  │   成本 ($)                                                              │    │
│  │   200┤                                                         ╭──     │    │
│  │   180┤                                               ╭─────╮  ╭╯       │    │
│  │   160┤                                 ╭────╮    ╭──╯     ╰──╯        │    │
│  │   140┤                   ╭────╮    ╭──╯    ╰────╯                     │    │
│  │   120┤        ╭──────────╯    ╰────╯                                  │    │
│  │   100┤    ╭───╯                                                        │    │
│  │    80┤╭───╯                                                            │    │
│  │     0└┴────┴────┴────┴────┴────┴────┴────┴────┴────┴────┴────┴────   │    │
│  │       1    3    5    7    9   11   13   15   17   19   21   23   25  │    │
│  │                          10 月                                          │    │
│  │                                                                        │    │
│  │   🔵 LLM 成本  🟢 Plugin 成本  🟡 儲存成本  🔴 其他成本                  │    │
│  │                                                                        │    │
│  └────────────────────────────────────────────────────────────────────────┘    │
│                                                                                 │
│  ┌─ 成本分解 ─────────────────────────────────────────────────────────────┐    │
│  │                                                                        │    │
│  │  ┌─ 按 Agent 分類 ─────────────┐  ┌─ 按模型分類 ─────────────┐        │    │
│  │  │                              │  │                          │        │    │
│  │  │  1. Customer Support Agent   │  │  1. GPT-4                │        │    │
│  │  │     $842.30 (26%)            │  │     $1,234.50 (38%)      │        │    │
│  │  │                              │  │                          │        │    │
│  │  │  2. Data Analysis Workflow   │  │  2. Claude 3 Opus        │        │    │
│  │  │     $621.45 (19%)            │  │     $892.30 (27%)        │        │    │
│  │  │                              │  │                          │        │    │
│  │  │  3. Report Generator         │  │  3. GPT-3.5 Turbo        │        │    │
│  │  │     $458.90 (14%)            │  │     $654.80 (20%)        │        │    │
│  │  │                              │  │                          │        │    │
│  │  │  4. SQL Query Agent          │  │  4. Claude 3 Sonnet      │        │    │
│  │  │     $412.80 (13%)            │  │     $464.20 (15%)        │        │    │
│  │  │                              │  │                          │        │    │
│  │  │  5. 其他 (10 個)              │  │                          │        │    │
│  │  │     $910.35 (28%)            │  │                          │        │    │
│  │  │                              │  │                          │        │    │
│  │  └──────────────────────────────┘  └──────────────────────────┘        │    │
│  │                                                                        │    │
│  │  ┌─ 按用戶分類 ─────────────────┐  ┌─ 按部門分類 ─────────────┐        │    │
│  │  │                              │  │                          │        │    │
│  │  │  1. Sarah Lee (Analyst)      │  │  1. 產品部門              │        │    │
│  │  │     $1,124.60 (35%)          │  │     $1,582.40 (49%)      │        │    │
│  │  │                              │  │                          │        │    │
│  │  │  2. Alex Chen (Developer)    │  │  2. 技術部門              │        │    │
│  │  │     $892.30 (27%)            │  │     $1,023.60 (32%)      │        │    │
│  │  │                              │  │                          │        │    │
│  │  │  3. David Chen (Admin)       │  │  3. 客服部門              │        │    │
│  │  │     $654.80 (20%)            │  │     $639.80 (19%)        │        │    │
│  │  │                              │  │                          │        │    │
│  │  │  4. 其他 (8 個用戶)           │  │                          │        │    │
│  │  │     $574.10 (18%)            │  │                          │        │    │
│  │  │                              │  │                          │        │    │
│  │  └──────────────────────────────┘  └──────────────────────────┘        │    │
│  │                                                                        │    │
│  └────────────────────────────────────────────────────────────────────────┘    │
│                                                                                 │
│  ┌─ 成本詳細列表 ─────────────────────────────────────────────────────────┐    │
│  │                                                                        │    │
│  │  [🔍 搜索...]  篩選: Agent [全部 ▾]  用戶 [全部 ▾]  模型 [全部 ▾]       │    │
│  │                                                                        │    │
│  │  ┌─────┬──────────┬───────────────────────┬─────────┬────────┬────────┐│    │
│  │  │日期 │Agent     │用戶                    │模型     │次數    │成本    ││    │
│  │  ├─────┼──────────┼───────────────────────┼─────────┼────────┼────────┤│    │
│  │  │10/29│Customer  │Alex Chen               │GPT-4    │127     │$42.30  ││    │
│  │  │     │Support   │                        │         │        │        ││    │
│  │  ├─────┼──────────┼───────────────────────┼─────────┼────────┼────────┤│    │
│  │  │10/29│Data      │Sarah Lee               │Claude 3 │89      │$38.45  ││    │
│  │  │     │Analysis  │                        │Opus     │        │        ││    │
│  │  ├─────┼──────────┼───────────────────────┼─────────┼────────┼────────┤│    │
│  │  │10/29│Report    │Sarah Lee               │GPT-4    │64      │$28.90  ││    │
│  │  │     │Generator │                        │         │        │        ││    │
│  │  ├─────┼──────────┼───────────────────────┼─────────┼────────┼────────┤│    │
│  │  │10/29│SQL Query │Sarah Lee               │GPT-3.5  │152     │$8.20   ││    │
│  │  │     │Agent     │                        │Turbo    │        │        ││    │
│  │  └─────┴──────────┴───────────────────────┴─────────┴────────┴────────┘│    │
│  │                                                                        │    │
│  │  [匯出 CSV]  [匯出 Excel]  [下載報表]                                   │    │
│  │                                                                        │    │
│  └────────────────────────────────────────────────────────────────────────┘    │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘
```

---

### 12.6 System Health - 系統健康

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│ [≡] Semantic Kernel Agentic      [🔍 搜索...]  [🔔 3]  [⚙️]  [👤 David Chen] │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  📊 監控儀表板                                                                   │
│  ─────────────────────────────────────────────────────────────────────────      │
│                                                                                 │
│  [📈 概覽] [📋 執行歷史] [🔔 告警管理] [💰 成本追蹤] [⚙️ 系統健康]            │
│                                                   ═══════════                   │
│                                                                                 │
│  ┌─ 服務狀態 ─────────────────────────────────────────────────────────────┐    │
│  │                                                                        │    │
│  │  全部服務運行正常                                   最後檢查: 5 秒前 [⟳]│    │
│  │                                                                        │    │
│  │  ┌────────────────────────────────────────────────────────────────┐  │    │
│  │  │ 🟢 API 服務                                        運行中        │  │    │
│  │  │ ─────────────────────────────────────────────────────────────  │  │    │
│  │  │ 狀態: 健康 | 正常運行時間: 15 天 8 小時 23 分鐘                  │  │    │
│  │  │ 響應時間: 42ms (平均)                                          │  │    │
│  │  │ 請求成功率: 99.8%                                              │  │    │
│  │  │ 當前負載: 234 req/min (容量: 1000 req/min)                     │  │    │
│  │  │                                             [查看日誌] [重啟]   │  │    │
│  │  └────────────────────────────────────────────────────────────────┘  │    │
│  │                                                                        │    │
│  │  ┌────────────────────────────────────────────────────────────────┐  │    │
│  │  │ 🟢 PostgreSQL 資料庫                               運行中        │  │    │
│  │  │ ─────────────────────────────────────────────────────────────  │  │    │
│  │  │ 狀態: 健康 | 正常運行時間: 15 天 8 小時 23 分鐘                  │  │    │
│  │  │ 連接數: 45/100                                                 │  │    │
│  │  │ 查詢平均時間: 18ms                                             │  │    │
│  │  │ 儲存使用: 42.3 GB / 100 GB (42%)                               │  │    │
│  │  │                                             [查看日誌] [備份]   │  │    │
│  │  └────────────────────────────────────────────────────────────────┘  │    │
│  │                                                                        │    │
│  │  ┌────────────────────────────────────────────────────────────────┐  │    │
│  │  │ 🟢 Redis 緩存                                      運行中        │  │    │
│  │  │ ─────────────────────────────────────────────────────────────  │  │    │
│  │  │ 狀態: 健康 | 正常運行時間: 15 天 8 小時 23 分鐘                  │  │    │
│  │  │ 記憶體使用: 1.2 GB / 4 GB (30%)                                │  │    │
│  │  │ 命中率: 94.2%                                                  │  │    │
│  │  │ Keys: 12,453                                                   │  │    │
│  │  │                                             [查看日誌] [清除]   │  │    │
│  │  └────────────────────────────────────────────────────────────────┘  │    │
│  │                                                                        │    │
│  │  ┌────────────────────────────────────────────────────────────────┐  │    │
│  │  │ 🟡 Qdrant 向量資料庫                               運行中 (慢)   │  │    │
│  │  │ ─────────────────────────────────────────────────────────────  │  │    │
│  │  │ 狀態: ⚠️ 警告 - 響應時間較慢 | 正常運行時間: 15 天 8 小時        │  │    │
│  │  │ 響應時間: 220ms (平均) - 超過正常範圍 (<100ms)                 │  │    │
│  │  │ 儲存使用: 8.4 GB / 20 GB (42%)                                 │  │    │
│  │  │ 向量數量: 1,245,678                                            │  │    │
│  │  │                                      [查看日誌] [優化索引] [重啟]│  │    │
│  │  └────────────────────────────────────────────────────────────────┘  │    │
│  │                                                                        │    │
│  │  ┌────────────────────────────────────────────────────────────────┐  │    │
│  │  │ 🟢 RabbitMQ 消息隊列                               運行中        │  │    │
│  │  │ ─────────────────────────────────────────────────────────────  │  │    │
│  │  │ 狀態: 健康 | 正常運行時間: 15 天 8 小時 23 分鐘                  │  │    │
│  │  │ 隊列數量: 12                                                   │  │    │
│  │  │ 待處理消息: 45                                                 │  │    │
│  │  │ 消息處理速率: 123 msg/s                                        │  │    │
│  │  │                                             [查看日誌] [清空隊列]│  │    │
│  │  └────────────────────────────────────────────────────────────────┘  │    │
│  │                                                                        │    │
│  └────────────────────────────────────────────────────────────────────────┘    │
│                                                                                 │
│  ┌─ 系統資源 ─────────────────────────────────────────────────────────────┐    │
│  │                                                                        │    │
│  │  ┌─ CPU 使用率 ──────────────┐  ┌─ 記憶體使用 ──────────────┐         │    │
│  │  │                            │  │                           │         │    │
│  │  │   62%                      │  │   12.4 GB / 32 GB (39%)   │         │    │
│  │  │   ████████████░░░░░░░░     │  │   ███████░░░░░░░░░░░░░░   │         │    │
│  │  │                            │  │                           │         │    │
│  │  │   🟢 正常 (<80%)            │  │   🟢 正常 (<80%)           │         │    │
│  │  │   平均: 58%                │  │   峰值: 14.2 GB (44%)     │         │    │
│  │  │                            │  │                           │         │    │
│  │  └────────────────────────────┘  └───────────────────────────┘         │    │
│  │                                                                        │    │
│  │  ┌─ 磁碟使用 ────────────────┐  ┌─ 網路流量 ────────────────┐         │    │
│  │  │                            │  │                           │         │    │
│  │  │   142 GB / 500 GB (28%)    │  │   ↓ 12.4 MB/s            │         │    │
│  │  │   █████░░░░░░░░░░░░░░░     │  │   ↑ 8.2 MB/s             │         │    │
│  │  │                            │  │                           │         │    │
│  │  │   🟢 正常 (<80%)            │  │   🟢 正常                 │         │    │
│  │  │   可用: 358 GB             │  │   峰值: ↓18 MB/s ↑12 MB/s│         │    │
│  │  │                            │  │                           │         │    │
│  │  └────────────────────────────┘  └───────────────────────────┘         │    │
│  │                                                                        │    │
│  │  ┌─ 資源趨勢（最近 24 小時）───────────────────────────────────┐         │    │
│  │  │                                                             │         │    │
│  │  │   100%┤                                                     │         │    │
│  │  │    80%┤                                         ╭─╮         │         │    │
│  │  │    60%┤                   ╭───╮           ╭────╯ ╰──╮      │         │    │
│  │  │    40%┤       ╭───────────╯   ╰───────────╯         ╰──    │         │    │
│  │  │    20%┤   ╭───╯                                             │         │    │
│  │  │     0%└───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───     │         │    │
│  │  │        00:00   04:00   08:00   12:00   16:00   20:00       │         │    │
│  │  │                                                             │         │    │
│  │  │   🔵 CPU  🟢 記憶體  🟡 磁碟  🔴 網路                        │         │    │
│  │  │                                                             │         │    │
│  │  └─────────────────────────────────────────────────────────────┘         │    │
│  │                                                                        │    │
│  └────────────────────────────────────────────────────────────────────────┘    │
│                                                                                 │
│  ┌─ 外部服務依賴 ─────────────────────────────────────────────────────────┐    │
│  │                                                                        │    │
│  │  ┌────────────────────────────────────────────────────────────────┐  │    │
│  │  │ 🟢 OpenAI API                                      可用          │  │    │
│  │  │ 狀態: 正常 | 響應時間: 320ms | 成功率: 99.9%                   │  │    │
│  │  └────────────────────────────────────────────────────────────────┘  │    │
│  │                                                                        │    │
│  │  ┌────────────────────────────────────────────────────────────────┐  │    │
│  │  │ 🟢 Anthropic API (Claude)                          可用          │  │    │
│  │  │ 狀態: 正常 | 響應時間: 280ms | 成功率: 99.8%                   │  │    │
│  │  └────────────────────────────────────────────────────────────────┘  │    │
│  │                                                                        │    │
│  │  ┌────────────────────────────────────────────────────────────────┐  │    │
│  │  │ 🟢 Email 服務 (SendGrid)                           可用          │  │    │
│  │  │ 狀態: 正常 | 響應時間: 120ms | 成功率: 100%                    │  │    │
│  │  └────────────────────────────────────────────────────────────────┘  │    │
│  │                                                                        │    │
│  │  ┌────────────────────────────────────────────────────────────────┐  │    │
│  │  │ 🟢 Slack 通知                                      可用          │  │    │
│  │  │ 狀態: 正常 | 響應時間: 180ms | 成功率: 99.9%                   │  │    │
│  │  └────────────────────────────────────────────────────────────────┘  │    │
│  │                                                                        │    │
│  └────────────────────────────────────────────────────────────────────────┘    │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘
```

---

## 📱 Tablet 版本 (768-1279px)

### 12.7 Tablet - Overview Dashboard

```
┌──────────────────────────────────────────────────────────┐
│ [≡] Semantic Kernel      [🔍]  [🔔 3]  [👤 David]     │
├──────────────────────────────────────────────────────────┤
│                                                          │
│  📊 監控儀表板                     最後更新: 2 秒前 [⟳] │
│  ─────────────────────────────────────────────────────  │
│                                                          │
│  [概覽] [歷史] [告警] [成本] [健康]                      │
│  ═════                                                   │
│                                                          │
│  ┌─ 系統狀態 ────────────────────────────────────┐      │
│  │ 🟢 系統運行正常    正常運行: 15d 8h 23m        │      │
│  │ [🟢 API] [🟢 DB] [🟢 Redis] [🟡 向量] [🟢 MQ] │      │
│  └────────────────────────────────────────────────┘      │
│                                                          │
│  ┌─ 關鍵指標（24小時）────────────────────────┐          │
│  │  ┌────────┐  ┌────────┐  ┌────────┐         │          │
│  │  │總執行   │  │成功率   │  │響應    │         │          │
│  │  │1,247    │  │94.2%    │  │2.3s    │         │          │
│  │  │↑ +12%   │  │↓ -1%    │  │↑ +0.2s │         │          │
│  │  └────────┘  └────────┘  └────────┘         │          │
│  │                                              │          │
│  │  ┌────────┐  ┌────────┐  ┌────────┐         │          │
│  │  │成本     │  │告警     │  │活躍用戶 │         │          │
│  │  │$124.50  │  │3        │  │42      │         │          │
│  │  │↑ +$8    │  │↓ -2     │  │↑ +5    │         │          │
│  │  └────────┘  └────────┘  └────────┘         │          │
│  └──────────────────────────────────────────┘          │
│                                                          │
│  ┌─ 實時性能 ────────────────────────────────┐          │
│  │ [執行次數▾] 時間: [24h▾]                   │          │
│  │                                            │          │
│  │  120┤                              ╭──     │          │
│  │  100┤                    ╭─────╮  ╭╯       │          │
│  │   80┤          ╭────╮ ╭──╯     ╰──╯        │          │
│  │   60┤      ╭───╯    ╰─╯                    │          │
│  │   40┤  ╭───╯                                │          │
│  │    0└──┴───┴───┴───┴───┴───┴───┴──        │          │
│  │       00   06   12   18   24                │          │
│  │                                            │          │
│  └────────────────────────────────────────────┘          │
│                                                          │
│  ┌─ 最近執行 ─────────────────────────────┐             │
│  │ ● 14:23 Customer Support  ✅ 2.1s $0.12│             │
│  │ ● 14:23 Data Analysis     ✅ 8.3s $0.45│             │
│  │ ● 14:23 SQL Query         ❌ 1.2s $0.05│             │
│  │ [查看全部 →]                            │             │
│  └─────────────────────────────────────────┘             │
│                                                          │
│  ┌─ 最近告警 ─────────────────────────────┐             │
│  │ 🔴 14:20 高錯誤率 - Agent X 錯誤率>10% │             │
│  │ 🟡 13:45 響應緩慢 - 平均響應>5s        │             │
│  │ 🟢 12:30 已恢復 - 資料庫連接正常       │             │
│  │ [查看全部 →]                            │             │
│  └─────────────────────────────────────────┘             │
│                                                          │
└──────────────────────────────────────────────────────────┘
```

**設計說明**:
- 指標卡片改為 2x3 網格佈局
- 圖表保持完整功能但尺寸縮小
- 最近執行和告警垂直堆疊

---

## 📱 Mobile 版本 (<768px)

### 12.8 Mobile - Overview Dashboard

```
┌──────────────────────────────────┐
│ [≡]  監控  [🔔 3]  [👤]         │
├──────────────────────────────────┤
│                                  │
│  🟢 系統運行正常    2秒前 [⟳]   │
│                                  │
│  ┌─ 狀態 ──────────────────┐    │
│  │ [🟢] [🟢] [🟢] [🟡] [🟢]│    │
│  └──────────────────────────┘    │
│                                  │
│  ┌─ 指標（24h）─────────┐        │
│  │ 總執行: 1,247 ↑12%    │        │
│  │ 成功率: 94.2% ↓1%     │        │
│  │ 響應:   2.3s ↑0.2s    │        │
│  │ 成本:   $124.50 ↑$8   │        │
│  └───────────────────────┘        │
│                                  │
│  ┌─ 圖表 ───────────────┐        │
│  │ [執行次數▾] [24h▾]    │        │
│  │                       │        │
│  │  120┤          ╭──    │        │
│  │  100┤    ╭───╮╭╯      │        │
│  │   80┤ ╭──╯   ╰╯       │        │
│  │   60┤╭╯               │        │
│  │    0└┴──┴──┴──┴──    │        │
│  │     00 06 12 18 24    │        │
│  │                       │        │
│  └───────────────────────┘        │
│                                  │
│  ┌─ 最近執行 ───────────┐        │
│  │ ● 14:23 Customer     │        │
│  │   Support ✅ 2.1s    │        │
│  │                       │        │
│  │ ● 14:23 Data         │        │
│  │   Analysis ✅ 8.3s   │        │
│  │                       │        │
│  │ ● 14:23 SQL Query    │        │
│  │   ❌ 1.2s Timeout    │        │
│  │                       │        │
│  │ [查看全部 →]          │        │
│  └───────────────────────┘        │
│                                  │
│  ┌─ 最近告警 ───────────┐        │
│  │ 🔴 14:20 高錯誤率     │        │
│  │    Agent X >10%       │        │
│  │                       │        │
│  │ 🟡 13:45 響應緩慢     │        │
│  │    平均>5s            │        │
│  │                       │        │
│  │ [查看全部 →]          │        │
│  └───────────────────────┘        │
│                                  │
│  [概覽] [歷史] [告警] [成本]     │
│                                  │
└──────────────────────────────────┘
```

**設計說明**:
- 單列垂直佈局
- 指標改為列表形式
- 簡化的圖表顯示
- 底部標籤導航

---

## 🎯 核心組件與功能

### 13.1 功能清單

| 功能 | 說明 | 優先級 |
|------|------|--------|
| **實時概覽儀表板** | 系統狀態、關鍵指標、實時圖表 | P0 (必須) |
| **執行歷史查詢** | 多維度篩選、搜索、分頁 | P0 (必須) |
| **執行詳情查看** | 日誌、輸入輸出、追蹤、性能 | P0 (必須) |
| **告警規則配置** | 創建、編輯、刪除、測試規則 | P0 (必須) |
| **告警歷史管理** | 查看、解決、確認告警 | P0 (必須) |
| **通知渠道設定** | Email、Slack、SMS、Webhook | P1 (重要) |
| **成本追蹤** | 按 Agent/用戶/模型分類統計 | P1 (重要) |
| **成本預算管理** | 設定預算、超支預警 | P1 (重要) |
| **系統資源監控** | CPU、記憶體、磁碟、網路 | P1 (重要) |
| **服務健康檢查** | 內部服務和外部依賴狀態 | P1 (重要) |
| **日誌實時查看** | 實時日誌流、篩選、搜索 | P2 (可選) |
| **自定義儀表板** | 用戶自定義監控面板 | P2 (可選) |

---

### 13.2 數據更新策略

| 類型 | 更新頻率 | 更新方式 |
|------|---------|---------|
| **系統狀態** | 5 秒 | 自動輪詢 + WebSocket |
| **關鍵指標** | 10 秒 | 自動輪詢 |
| **實時圖表** | 30 秒 | 自動輪詢 |
| **執行歷史** | 手動 + 事件觸發 | 用戶主動刷新 + WebSocket 推送 |
| **告警** | 即時 | WebSocket 推送 + 彈窗提示 |
| **成本數據** | 10 分鐘 | 自動輪詢 |
| **資源使用** | 15 秒 | 自動輪詢 |

---

### 13.3 關鍵組件

#### 實時指標卡片
```typescript
interface MetricCard {
  title: string;
  value: number | string;
  unit: string;
  change: {
    value: number;
    direction: 'up' | 'down' | 'neutral';
    percentage?: number;
  };
  status: 'good' | 'warning' | 'critical';
  icon: string;
}
```

#### 執行記錄過濾器
```typescript
interface ExecutionFilter {
  agentIds?: string[];
  userIds?: string[];
  statuses?: ('success' | 'failed' | 'timeout' | 'running')[];
  models?: string[];
  timeRange: {
    start: Date;
    end: Date;
  };
  responseTime?: {
    min: number;
    max: number;
  };
  cost?: {
    min: number;
    max: number;
  };
  searchQuery?: string;
}
```

#### 告警規則配置
```typescript
interface AlertRule {
  id: string;
  name: string;
  description: string;
  enabled: boolean;
  severity: 'critical' | 'warning' | 'info';
  condition: {
    metric: string;
    operator: '>' | '<' | '=' | '>=' | '<=';
    threshold: number;
    timeWindow: number; // minutes
  };
  conditions?: AlertCondition[]; // 支援多條件 (AND/OR)
  notifications: {
    email?: string[];
    slack?: {
      channel: string;
      mentions?: string[];
    };
    sms?: string[];
    webhook?: string;
  };
  silencePeriod: number; // minutes
  metadata: {
    createdBy: string;
    createdAt: Date;
    updatedAt: Date;
    triggerCount: number;
  };
}
```

#### 系統健康檢查
```typescript
interface HealthCheck {
  service: string;
  status: 'healthy' | 'warning' | 'critical' | 'unknown';
  uptime: number; // seconds
  responseTime: number; // ms
  successRate: number; // percentage
  metadata?: {
    connections?: number;
    memoryUsage?: number;
    storageUsage?: number;
    [key: string]: any;
  };
  lastCheck: Date;
}
```

---

## 🎨 設計規範

### 13.4 顏色系統

**狀態顏色**:
- 🟢 **成功/正常**: `#10B981` (green-500)
- 🟡 **警告/注意**: `#F59E0B` (amber-500)
- 🔴 **錯誤/嚴重**: `#EF4444` (red-500)
- 🔵 **信息**: `#3B82F6` (blue-500)
- ⚪ **未知/中性**: `#6B7280` (gray-500)

**指標顏色**:
- **上升趨勢**: `#10B981` (正面) | `#EF4444` (負面，如成本、錯誤)
- **下降趨勢**: `#EF4444` (正面時) | `#10B981` (負面時，如錯誤率下降)
- **無變化**: `#6B7280`

---

### 13.5 圖表設計

**時間序列圖表**:
- 使用折線圖展示趨勢
- 支持多指標疊加
- X 軸: 時間（自動適應時間範圍）
- Y 軸: 指標數值（自動縮放）
- 懸停提示: 顯示詳細數值和時間

**分布圖表**:
- 使用餅圖/環形圖展示比例
- 顯示前 5-10 項，其他合併為"其他"
- 支持點擊查看詳情

**對比圖表**:
- 使用柱狀圖對比不同維度
- 水平/垂直自動適應數據量

---

### 13.6 響應式設計

**Desktop (≥1280px)**:
- 多列佈局，充分利用空間
- 完整圖表和表格
- 側邊面板詳情

**Tablet (768-1279px)**:
- 2 列佈局
- 簡化圖表（減少數據點）
- 摺疊式詳情

**Mobile (<768px)**:
- 單列垂直佈局
- 最小化圖表（僅顯示關鍵趨勢）
- 底部導航標籤
- 全屏詳情彈窗

---

## 🎭 角色視角

### 13.7 David (Enterprise Admin) 的視角

**最關心的指標**:
- 系統整體健康狀況和正常運行時間
- 告警數量和嚴重性
- 成本總額和趨勢
- 用戶活躍度
- 資源使用率

**典型使用場景**:
1. 每天早上查看系統概覽，確認無嚴重告警
2. 查看成本報表，確保在預算內
3. 配置新的告警規則
4. 調查服務故障，查看執行日誌
5. 生成月度運維報告

**交互路徑**:
```
登入 → 監控儀表板（概覽）
     → 檢查系統狀態和告警
     → 查看成本追蹤
     → 配置告警規則
     → 查看執行歷史（問題排查時）
```

---

### 13.8 Alex (Agent Developer) 的視角

**最關心的指標**:
- 自己開發的 Agent 執行成功率
- 執行錯誤詳情和堆棧追蹤
- Agent 性能（響應時間）
- 成本（確保優化）

**典型使用場景**:
1. 部署新 Agent 後監控執行情況
2. 調試失敗的執行，查看詳細日誌
3. 優化 Agent 性能，查看響應時間趨勢
4. 查看自己的 Agent 成本使用

**交互路徑**:
```
登入 → 監控儀表板（概覽）
     → 篩選自己的 Agent
     → 查看執行歷史
     → 點擊失敗執行查看詳情
     → 分析日誌和錯誤訊息
     → 修復問題後再次監控
```

---

### 13.9 Sarah (Data Analyst) 的視角

**最關心的指標**:
- SQL Query Agent 執行結果
- 查詢響應時間
- 數據分析 Workflow 執行狀態
- 自己的成本使用

**典型使用場景**:
1. 查看數據查詢執行歷史
2. 檢查長時間運行的查詢
3. 查看查詢結果輸出
4. 監控每日成本使用

**交互路徑**:
```
登入 → 監控儀表板（概覽）
     → 篩選 SQL Query Agent
     → 查看執行歷史
     → 檢查查詢結果
     → 查看成本統計
```

---

## 🔌 技術實現

### 13.10 API 端點設計

```typescript
// 獲取監控概覽
GET /api/monitoring/overview
Response: {
  systemStatus: 'healthy' | 'warning' | 'critical';
  services: HealthCheck[];
  metrics: {
    totalExecutions: MetricCard;
    successRate: MetricCard;
    avgResponseTime: MetricCard;
    dailyCost: MetricCard;
    alertCount: MetricCard;
    activeUsers: MetricCard;
  };
  recentExecutions: Execution[];
  recentAlerts: Alert[];
}

// 獲取執行歷史
GET /api/monitoring/executions?filter={...}&page=1&limit=50
Response: {
  total: number;
  page: number;
  limit: number;
  executions: Execution[];
}

// 獲取執行詳情
GET /api/monitoring/executions/:id
Response: ExecutionDetail

// 獲取實時指標
GET /api/monitoring/metrics?timeRange=24h&metric=executions
Response: {
  timestamps: Date[];
  values: number[];
}

// 獲取告警規則
GET /api/monitoring/alerts/rules
POST /api/monitoring/alerts/rules
PUT /api/monitoring/alerts/rules/:id
DELETE /api/monitoring/alerts/rules/:id

// 獲取告警歷史
GET /api/monitoring/alerts/history?timeRange=7d&severity=all

// 獲取成本統計
GET /api/monitoring/costs?timeRange=30d&groupBy=agent|user|model
Response: {
  total: number;
  breakdown: {
    label: string;
    value: number;
    percentage: number;
  }[];
  trend: {
    timestamps: Date[];
    values: number[];
  };
}

// 獲取系統資源
GET /api/monitoring/system/resources
Response: {
  cpu: { current: number; avg: number; peak: number };
  memory: { used: number; total: number; percentage: number };
  disk: { used: number; total: number; percentage: number };
  network: { download: number; upload: number };
}
```

---

### 13.11 WebSocket 事件

```typescript
// 連接
ws://api.example.com/ws/monitoring

// 訂閱事件
socket.emit('subscribe', {
  events: ['execution.started', 'execution.completed', 'alert.triggered']
});

// 接收實時事件
socket.on('execution.started', (data: Execution) => {
  // 更新執行列表
});

socket.on('execution.completed', (data: Execution) => {
  // 更新執行結果
});

socket.on('alert.triggered', (data: Alert) => {
  // 顯示告警彈窗
  // 更新告警計數
});

socket.on('metrics.updated', (data: Metrics) => {
  // 更新實時指標
});
```

---

### 13.12 狀態管理

```typescript
// Redux Store Structure
interface MonitoringState {
  overview: {
    systemStatus: SystemStatus;
    metrics: Metrics;
    loading: boolean;
    error: string | null;
  };

  executions: {
    list: Execution[];
    filter: ExecutionFilter;
    pagination: Pagination;
    selectedExecution: ExecutionDetail | null;
    loading: boolean;
  };

  alerts: {
    rules: AlertRule[];
    history: Alert[];
    notifications: NotificationSettings;
    loading: boolean;
  };

  costs: {
    summary: CostSummary;
    breakdown: CostBreakdown;
    trend: CostTrend;
    loading: boolean;
  };

  system: {
    services: HealthCheck[];
    resources: SystemResources;
    dependencies: DependencyStatus[];
    loading: boolean;
  };
}
```

---

## ♿ 無障礙設計

### 13.13 WCAG 2.1 AA 標準

**鍵盤導航**:
- 所有交互元素可通過 Tab 鍵訪問
- 支持 Enter/Space 鍵操作按鈕
- 支持方向鍵導航表格和列表
- 支持 Esc 鍵關閉彈窗

**屏幕閱讀器**:
- 所有圖標配有 `aria-label`
- 圖表提供數據表格替代方案
- 動態內容更新使用 `aria-live` 區域
- 表單輸入有明確的 `label` 關聯

**色彩對比**:
- 文字與背景對比度 ≥ 4.5:1
- 大文字 (≥18pt) 對比度 ≥ 3:1
- 不僅依賴顏色傳達信息（使用圖標+文字）

**焦點指示**:
- 清晰的焦點邊框 (`outline: 2px solid #3B82F6`)
- 焦點狀態顏色與背景對比明顯

---

## 📊 性能考慮

### 13.14 優化策略

**數據加載**:
- 執行歷史使用分頁和虛擬滾動
- 圖表數據按需加載，避免一次性加載過多數據
- 使用 Web Workers 處理大量數據計算

**實時更新**:
- WebSocket 連接復用
- 使用防抖/節流控制更新頻率
- 僅更新可見區域的數據

**緩存策略**:
- 使用 SWR (stale-while-revalidate) 模式
- 關鍵指標緩存 10-30 秒
- 靜態數據 (告警規則、用戶列表) 緩存更長時間

**圖表渲染**:
- 使用 Canvas 渲染複雜圖表（替代 SVG）
- 數據點超過 1000 時進行降採樣
- 懶加載圖表庫

---

## 🧪 測試場景

### 13.15 關鍵測試用例

**功能測試**:
1. **實時監控**: 驗證數據每 5-10 秒自動更新
2. **執行歷史篩選**: 測試所有篩選條件組合
3. **告警觸發**: 模擬閾值超過，驗證告警規則執行
4. **通知發送**: 驗證 Email/Slack/SMS 通知正常發送
5. **執行詳情**: 驗證日誌、輸入輸出正確顯示

**性能測試**:
1. 1000+ 執行記錄的分頁加載時間 < 500ms
2. 圖表渲染時間 < 200ms
3. WebSocket 連接穩定性測試（長時間連接）
4. 並發 100 用戶訪問監控頁面

**邊界測試**:
1. 無數據時的空狀態顯示
2. 超長日誌內容的顯示和滾動
3. 極端數值（成本 $0, 錯誤率 100%）的顯示
4. 網路斷開時的錯誤處理

---

## 📝 設計註釋

### 13.16 關鍵決策

**1. 實時更新策略**:
- **決策**: 使用 WebSocket + 定時輪詢混合模式
- **原因**: WebSocket 提供實時性，輪詢作為備援確保數據一致性
- **權衡**: 增加服務端壓力，但提供更好的用戶體驗

**2. 執行歷史篩選**:
- **決策**: 提供豐富的篩選維度（Agent、用戶、狀態、時間、成本等）
- **原因**: David 和 Alex 需要快速定位問題執行
- **權衡**: 界面複雜度增加，但可摺疊保持簡潔

**3. 告警規則配置**:
- **決策**: 支持多條件 (AND/OR) 和多通知渠道
- **原因**: 不同嚴重性需要不同通知策略
- **權衡**: 配置複雜度較高，需要清晰的 UI 引導

**4. 成本追蹤粒度**:
- **決策**: 支持按 Agent/用戶/模型/部門多維度分析
- **原因**: 不同角色關心不同維度的成本
- **權衡**: 後端查詢複雜度增加，需要索引優化

**5. 系統資源監控**:
- **決策**: 顯示 CPU/記憶體/磁碟/網路四大資源
- **原因**: 覆蓋最常見的性能瓶頸點
- **權衡**: 需要服務端監控 agent，增加系統負擔

---

## 🎓 未來增強

### 13.17 Phase 2 功能

**自定義儀表板**:
- 用戶可拖拽配置自己的監控面板
- 支持保存多個視圖配置
- 支持共享儀表板配置

**智能告警**:
- 基於機器學習的異常檢測
- 動態閾值調整（根據歷史趨勢）
- 告警聚合和去重

**高級分析**:
- 執行瀑布圖（詳細時間分解）
- 服務依賴拓撲圖
- 根因分析工具

**導出和報表**:
- 定期生成 PDF/Excel 報表
- 支持自定義報表模板
- 郵件定時發送報表

**APM 集成**:
- 集成 Datadog、New Relic 等 APM 工具
- 分佈式追蹤 (OpenTelemetry)
- 性能火焰圖

---

## 📚 參考資料

### 13.18 設計靈感

- **Datadog**: 實時監控儀表板設計
- **Grafana**: 自定義儀表板和圖表庫
- **PagerDuty**: 告警管理和通知策略
- **AWS CloudWatch**: 系統資源監控
- **Sentry**: 錯誤追蹤和日誌查看

---

## ✅ 驗收標準

### 13.19 完成定義 (Definition of Done)

**功能完整性**:
- [ ] 實時概覽儀表板正常顯示
- [ ] 執行歷史查詢和篩選功能正常
- [ ] 執行詳情（日誌、輸入輸出）可正常查看
- [ ] 告警規則 CRUD 功能完整
- [ ] 告警觸發和通知正常發送
- [ ] 成本統計和趨勢圖表正確
- [ ] 系統健康檢查正常運行
- [ ] WebSocket 實時更新穩定

**響應式設計**:
- [ ] Desktop (≥1280px) 佈局正常
- [ ] Tablet (768-1279px) 佈局正常
- [ ] Mobile (<768px) 佈局正常
- [ ] 所有斷點切換流暢

**無障礙性**:
- [ ] 通過 WCAG 2.1 AA 檢查
- [ ] 鍵盤導航完整覆蓋
- [ ] 屏幕閱讀器兼容
- [ ] 色彩對比度達標

**性能**:
- [ ] 首屏加載時間 < 1 秒
- [ ] 圖表渲染時間 < 200ms
- [ ] 執行歷史分頁加載 < 500ms
- [ ] WebSocket 連接穩定（12 小時+）

**用戶體驗**:
- [ ] David/Alex/Sarah 三個角色測試通過
- [ ] 關鍵任務流程順暢
- [ ] 錯誤提示清晰友好
- [ ] 無明顯 UX 問題

---

**文檔狀態**: ✅ 已完成
**審查人**: UI/UX Designer
**審查日期**: 2025-10-29
**版本**: 1.0.0

---

[← 返回 Wireframes 索引](./README.md) | [← 返回 UX Design](../README.md)
